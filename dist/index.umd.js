(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('/*! tailwindcss v4.1.15 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-border-style:solid;--tw-font-weight:initial}}}@layer theme{:root,:host{--tw-font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--tw-color-black:#000;--tw-color-white:#fff;--tw-spacing:.25rem;--tw-container-5xl:64rem;--tw-text-2xl:1.5rem;--tw-text-2xl--line-height:calc(2/1.5);--tw-text-3xl:1.875rem;--tw-text-3xl--line-height: 1.2 ;--tw-text-5xl:3rem;--tw-text-5xl--line-height:1;--tw-font-weight-light:300}}@layer base,components;@layer utilities{.tw\\:m-8{margin:calc(var(--tw-spacing)*8)}.tw\\:grid{display:grid}.tw\\:max-w-5xl{max-width:var(--tw-container-5xl)}.tw\\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.tw\\:border-1{border-style:var(--tw-border-style);border-width:1px}.tw\\:bg-white{background-color:var(--tw-color-white)}.tw\\:p-0{padding:calc(var(--tw-spacing)*0)}.tw\\:px-1{padding-inline:calc(var(--tw-spacing)*1)}.tw\\:px-10{padding-inline:calc(var(--tw-spacing)*10)}.tw\\:font-sans{font-family:var(--tw-font-sans)}.tw\\:text-2xl{font-size:var(--tw-text-2xl);line-height:var(--tw-leading,var(--tw-text-2xl--line-height))}.tw\\:text-3xl{font-size:var(--tw-text-3xl);line-height:var(--tw-leading,var(--tw-text-3xl--line-height))}.tw\\:text-5xl{font-size:var(--tw-text-5xl);line-height:var(--tw-leading,var(--tw-text-5xl--line-height))}.tw\\:font-light{--tw-font-weight:var(--tw-font-weight-light);font-weight:var(--tw-font-weight-light)}.tw\\:text-black{color:var(--tw-color-black)}@media(min-width:40rem){.tw\\:sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.tw\\:sm\\:gap-8{gap:calc(var(--tw-spacing)*8)}.tw\\:sm\\:p-0{padding:calc(var(--tw-spacing)*0)}}@media(prefers-color-scheme:dark){.tw\\:dark\\:border-white{border-color:var(--tw-color-white)}.tw\\:dark\\:bg-black{background-color:var(--tw-color-black)}.tw\\:dark\\:text-white{color:var(--tw-color-white)}}.debug-grid-16{background-image:linear-gradient(90deg,#0000ff1a 1px,#0000 1px),linear-gradient(#0000ff1a 1px,#0000 1px);background-repeat:repeat;background-size:6.25% 6.25%,6.25% 6.25%}}.explorable *,.explorable :before,.explorable :after{box-sizing:border-box}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}._displayPanel_cwpad_1,._controlPanel_cwpad_8{display:block;line-height:0;box-sizing:border-box}._displayPanel_cwpad_1>canvas,._displayPanel_cwpad_1>svg,._controlPanel_cwpad_8>svg,._controlPanel_cwpad_8>canvas{display:block;box-sizing:border-box}._leg_cwpad_24{stroke:#000;stroke-linecap:round}._leg_inset_cwpad_33{stroke:#c8c8c8;stroke-linecap:round}._trace_cwpad_38{stroke-width:3;stroke:#8b0000;stroke-linecap:round;fill:none}._trace_ghost_cwpad_45{stroke-width:3;stroke:#00f;stroke-linecap:round;fill:none}._trajectory_cwpad_53{stroke-width:1;stroke:red;stroke-linecap:round;fill:none}._trajectory_ghost_cwpad_60{stroke-width:1;stroke:#add8e6;stroke-linecap:round;fill:none}@media(prefers-color-scheme:dark){._leg_cwpad_24{stroke:#fff}._joint_cwpad_29{stroke:#fff;fill:#fff}._leg_inset_cwpad_33{stroke:#646464}._trace_cwpad_38{stroke:#f08080}._trace_ghost_cwpad_45{stroke:#add8e6}._trajectory_cwpad_53{stroke:red}._trajectory_ghost_cwpad_60{stroke:#add8e6}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function(k,Jt){typeof exports=="object"&&typeof module<"u"?Jt(exports):typeof define=="function"&&define.amd?define(["exports"],Jt):(k=typeof globalThis<"u"?globalThis:k||self,Jt(k.double_trouble={}))})(this,(function(k){"use strict";const Jt={display_type:"svg",debug:!1,debug_lattice:"debug-grid-16",controls_grid:{nx:12,ny:12},display_size:{width:500,height:500},controls_size:{width:480,height:480},display_class:"tw:border-1 tw-border-black tw:dark:border-white tw:p-0",controls_class:"tw:p-0",container_class:"tw:font-sans tw:font-light tw:grid tw:grid-cols-1 tw:sm:grid-cols-2 tw:sm:gap-8 tw:px-1 tw:sm:p-0 tw:m-8"};function Kn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ku(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ui(t){let n,e,r;t.length!==2?(n=Kn,e=(s,l)=>Kn(t(s),l),r=(s,l)=>t(s)-l):(n=t===Kn||t===Ku?t:Zu,e=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function Zu(){return 0}function Wu(t){return t===null?NaN:+t}const Ju=Ui(Kn).right;Ui(Wu).center;const Qu=Math.sqrt(50),tl=Math.sqrt(10),nl=Math.sqrt(2);function Zn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Qu?10:a>=tl?5:a>=nl?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(n*u),s/u<t&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(n/u),s*u<t&&++s,l*u>n&&--l),l<s&&.5<=e&&e<2?Zn(t,n,e*2):[s,l,u]}function el(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?Zn(n,t,e):Zn(t,n,e);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function fr(t,n,e){return n=+n,t=+t,e=+e,Zn(t,n,e)[2]}function rl(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?fr(n,t,e):fr(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}var il={value:()=>{}};function Yi(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Wn(e)}function Wn(t){this._=t}function al(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Wn.prototype=Yi.prototype={constructor:Wn,on:function(t,n){var e=this._,r=al(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ol(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Gi(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Gi(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Wn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function ol(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Gi(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=il,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var hr="http://www.w3.org/1999/xhtml";const Vi={svg:"http://www.w3.org/2000/svg",xhtml:hr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Vi.hasOwnProperty(n)?{space:Vi[n],local:t}:t}function sl(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===hr&&n.documentElement.namespaceURI===hr?n.createElement(t):n.createElementNS(e,t)}}function ul(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ki(t){var n=Jn(t);return(n.local?ul:sl)(n)}function ll(){}function pr(t){return t==null?ll:function(){return this.querySelector(t)}}function cl(t){typeof t!="function"&&(t=pr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new U(r,this._parents)}function fl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hl(){return[]}function Zi(t){return t==null?hl:function(){return this.querySelectorAll(t)}}function pl(t){return function(){return fl(t.apply(this,arguments))}}function dl(t){typeof t=="function"?t=pl(t):t=Zi(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new U(r,i)}function Wi(t){return function(){return this.matches(t)}}function Ji(t){return function(n){return n.matches(t)}}var gl=Array.prototype.find;function yl(t){return function(){return gl.call(this.children,t)}}function _l(){return this.firstElementChild}function vl(t){return this.select(t==null?_l:yl(typeof t=="function"?t:Ji(t)))}var ml=Array.prototype.filter;function wl(){return Array.from(this.children)}function bl(t){return function(){return ml.call(this.children,t)}}function xl(t){return this.selectAll(t==null?wl:bl(typeof t=="function"?t:Ji(t)))}function Ml(t){typeof t!="function"&&(t=Wi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new U(r,this._parents)}function Qi(t){return new Array(t.length)}function Al(){return new U(this._enter||this._groups.map(Qi),this._parents)}function Qn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Qn.prototype={constructor:Qn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $l(t){return function(){return t}}function Pl(t,n,e,r,i,a){for(var o=0,s,l=n.length,u=a.length;o<u;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new Qn(t,a[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function Tl(t,n,e,r,i,a,o){var s,l,u=new Map,c=n.length,h=a.length,f=new Array(c),p;for(s=0;s<c;++s)(l=n[s])&&(f[s]=p=o.call(l,l.__data__,s,n)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<h;++s)p=o.call(t,a[s],s,a)+"",(l=u.get(p))?(r[s]=l,l.__data__=a[s],u.delete(p)):e[s]=new Qn(t,a[s]);for(s=0;s<c;++s)(l=n[s])&&u.get(f[s])===l&&(i[s]=l)}function Nl(t){return t.__data__}function Sl(t,n){if(!arguments.length)return Array.from(this,Nl);var e=n?Tl:Pl,r=this._parents,i=this._groups;typeof t!="function"&&(t=$l(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,p=kl(t.call(c,c&&c.__data__,u,r)),g=p.length,_=s[u]=new Array(g),w=o[u]=new Array(g),x=l[u]=new Array(f);e(c,h,_,w,x,p,n);for(var d=0,M=0,y,m;d<g;++d)if(y=_[d]){for(d>=M&&(M=d+1);!(m=w[M])&&++M<g;);y._next=m||null}}return o=new U(o,r),o._enter=s,o._exit=l,o}function kl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function El(){return new U(this._exit||this._groups.map(Qi),this._parents)}function Ol(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Il(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=e[l],c=r[l],h=u.length,f=s[l]=new Array(h),p,g=0;g<h;++g)(p=u[g]||c[g])&&(f[g]=p);for(;l<i;++l)s[l]=e[l];return new U(s,this._parents)}function zl(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Cl(t){t||(t=jl);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new U(i,this._parents).order()}function jl(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Rl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ll(){return Array.from(this)}function Fl(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Dl(){let t=0;for(const n of this)++t;return t}function ql(){return!this.node()}function Xl(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Bl(t){return function(){this.removeAttribute(t)}}function Hl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ul(t,n){return function(){this.setAttribute(t,n)}}function Yl(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Gl(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Vl(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Kl(t,n){var e=Jn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Hl:Bl:typeof n=="function"?e.local?Vl:Gl:e.local?Yl:Ul)(e,n))}function ta(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zl(t){return function(){this.style.removeProperty(t)}}function Wl(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Jl(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ql(t,n,e){return arguments.length>1?this.each((n==null?Zl:typeof n=="function"?Jl:Wl)(t,n,e??"")):Qt(this.node(),t)}function Qt(t,n){return t.style.getPropertyValue(n)||ta(t).getComputedStyle(t,null).getPropertyValue(n)}function tc(t){return function(){delete this[t]}}function nc(t,n){return function(){this[t]=n}}function ec(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function rc(t,n){return arguments.length>1?this.each((n==null?tc:typeof n=="function"?ec:nc)(t,n)):this.node()[t]}function na(t){return t.trim().split(/^|\s+/)}function dr(t){return t.classList||new ea(t)}function ea(t){this._node=t,this._names=na(t.getAttribute("class")||"")}ea.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ra(t,n){for(var e=dr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ia(t,n){for(var e=dr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ic(t){return function(){ra(this,t)}}function ac(t){return function(){ia(this,t)}}function oc(t,n){return function(){(n.apply(this,arguments)?ra:ia)(this,t)}}function sc(t,n){var e=na(t+"");if(arguments.length<2){for(var r=dr(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?oc:n?ic:ac)(e,n))}function uc(){this.textContent=""}function lc(t){return function(){this.textContent=t}}function cc(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function fc(t){return arguments.length?this.each(t==null?uc:(typeof t=="function"?cc:lc)(t)):this.node().textContent}function hc(){this.innerHTML=""}function pc(t){return function(){this.innerHTML=t}}function dc(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function gc(t){return arguments.length?this.each(t==null?hc:(typeof t=="function"?dc:pc)(t)):this.node().innerHTML}function yc(){this.nextSibling&&this.parentNode.appendChild(this)}function _c(){return this.each(yc)}function vc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mc(){return this.each(vc)}function wc(t){var n=typeof t=="function"?t:Ki(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function bc(){return null}function xc(t,n){var e=typeof t=="function"?t:Ki(t),r=n==null?bc:typeof n=="function"?n:pr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Mc(){var t=this.parentNode;t&&t.removeChild(this)}function Ac(){return this.each(Mc)}function $c(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Pc(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Tc(t){return this.select(t?Pc:$c)}function Nc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Sc(t){return function(n){t.call(this,n,this.__data__)}}function kc(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ec(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Oc(t,n,e){return function(){var r=this.__on,i,a=Sc(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Ic(t,n,e){var r=kc(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?Oc:Ec,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function aa(t,n,e){var r=ta(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function zc(t,n){return function(){return aa(this,t,n)}}function Cc(t,n){return function(){return aa(this,t,n.apply(this,arguments))}}function jc(t,n){return this.each((typeof n=="function"?Cc:zc)(t,n))}function*Rc(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var oa=[null];function U(t,n){this._groups=t,this._parents=n}function _n(){return new U([[document.documentElement]],oa)}function Lc(){return this}U.prototype=_n.prototype={constructor:U,select:cl,selectAll:dl,selectChild:vl,selectChildren:xl,filter:Ml,data:Sl,enter:Al,exit:El,join:Ol,merge:Il,selection:Lc,order:zl,sort:Cl,call:Rl,nodes:Ll,node:Fl,size:Dl,empty:ql,each:Xl,attr:Kl,style:Ql,property:rc,classed:sc,text:fc,html:gc,raise:_c,lower:mc,append:wc,insert:xc,remove:Ac,clone:Tc,datum:Nc,on:Ic,dispatch:jc,[Symbol.iterator]:Rc};function Fc(t){return typeof t=="string"?new U([[document.querySelector(t)]],[document.documentElement]):new U([[t]],oa)}function gr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function sa(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function vn(){}var mn=.7,te=1/mn,tn="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dc=/^#([0-9a-f]{3,8})$/,qc=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),Xc=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),Bc=new RegExp(`^rgba\\(${tn},${tn},${tn},${wn}\\)$`),Hc=new RegExp(`^rgba\\(${ct},${ct},${ct},${wn}\\)$`),Uc=new RegExp(`^hsl\\(${wn},${ct},${ct}\\)$`),Yc=new RegExp(`^hsla\\(${wn},${ct},${ct},${wn}\\)$`),ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gr(vn,zt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:la,formatHex:la,formatHex8:Gc,formatHsl:Vc,formatRgb:ca,toString:ca});function la(){return this.rgb().formatHex()}function Gc(){return this.rgb().formatHex8()}function Vc(){return ga(this).formatHsl()}function ca(){return this.rgb().formatRgb()}function zt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Dc.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?fa(n):e===3?new B(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ne(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ne(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=qc.exec(t))?new B(n[1],n[2],n[3],1):(n=Xc.exec(t))?new B(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Bc.exec(t))?ne(n[1],n[2],n[3],n[4]):(n=Hc.exec(t))?ne(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Uc.exec(t))?da(n[1],n[2]/100,n[3]/100,1):(n=Yc.exec(t))?da(n[1],n[2]/100,n[3]/100,n[4]):ua.hasOwnProperty(t)?fa(ua[t]):t==="transparent"?new B(NaN,NaN,NaN,0):null}function fa(t){return new B(t>>16&255,t>>8&255,t&255,1)}function ne(t,n,e,r){return r<=0&&(t=n=e=NaN),new B(t,n,e,r)}function Kc(t){return t instanceof vn||(t=zt(t)),t?(t=t.rgb(),new B(t.r,t.g,t.b,t.opacity)):new B}function yr(t,n,e,r){return arguments.length===1?Kc(t):new B(t,n,e,r??1)}function B(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}gr(B,yr,sa(vn,{brighter(t){return t=t==null?te:Math.pow(te,t),new B(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mn:Math.pow(mn,t),new B(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new B(Ct(this.r),Ct(this.g),Ct(this.b),ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ha,formatHex:ha,formatHex8:Zc,formatRgb:pa,toString:pa}));function ha(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function Zc(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function pa(){const t=ee(this.opacity);return`${t===1?"rgb(":"rgba("}${Ct(this.r)}, ${Ct(this.g)}, ${Ct(this.b)}${t===1?")":`, ${t})`}`}function ee(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ct(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jt(t){return t=Ct(t),(t<16?"0":"")+t.toString(16)}function da(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new tt(t,n,e,r)}function ga(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof vn||(t=zt(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new tt(o,s,l,t.opacity)}function Wc(t,n,e,r){return arguments.length===1?ga(t):new tt(t,n,e,r??1)}function tt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}gr(tt,Wc,sa(vn,{brighter(t){return t=t==null?te:Math.pow(te,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mn:Math.pow(mn,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new B(_r(t>=240?t-240:t+120,i,r),_r(t,i,r),_r(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(ya(this.h),re(this.s),re(this.l),ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ee(this.opacity);return`${t===1?"hsl(":"hsla("}${ya(this.h)}, ${re(this.s)*100}%, ${re(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ya(t){return t=(t||0)%360,t<0?t+360:t}function re(t){return Math.max(0,Math.min(1,t||0))}function _r(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const vr=t=>()=>t;function Jc(t,n){return function(e){return t+e*n}}function Qc(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function tf(t){return(t=+t)==1?_a:function(n,e){return e-n?Qc(n,e,t):vr(isNaN(n)?e:n)}}function _a(t,n){var e=n-t;return e?Jc(t,e):vr(isNaN(t)?n:t)}const ie=(function t(n){var e=tf(n);function r(i,a){var o=e((i=yr(i)).r,(a=yr(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),u=_a(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r})(1);function nf(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function ef(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rf(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=br(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function af(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function nt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function of(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=br(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(mr.source,"g");function sf(t){return function(){return t}}function uf(t){return function(n){return t(n)+""}}function va(t,n){var e=mr.lastIndex=wr.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",n=n+"";(r=mr.exec(t))&&(i=wr.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:nt(r,i)})),e=wr.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?uf(l[0].x):sf(n):(n=l.length,function(u){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function br(t,n){var e=typeof n,r;return n==null||e==="boolean"?vr(n):(e==="number"?nt:e==="string"?(r=zt(n))?(n=r,ie):va:n instanceof zt?ie:n instanceof Date?af:ef(n)?nf:Array.isArray(n)?rf:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?of:nt)(t,n)}function lf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ma=180/Math.PI,xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wa(t,n,e,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*ma,skewX:Math.atan(l)*ma,scaleX:o,scaleY:s}}var ae;function cf(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?xr:wa(n.a,n.b,n.c,n.d,n.e,n.f)}function ff(t){return t==null||(ae||(ae=document.createElementNS("http://www.w3.org/2000/svg","g")),ae.setAttribute("transform",t),!(t=ae.transform.baseVal.consolidate()))?xr:(t=t.matrix,wa(t.a,t.b,t.c,t.d,t.e,t.f))}function ba(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,p,g){if(u!==h||c!==f){var _=p.push("translate(",null,n,null,e);g.push({i:_-4,x:nt(u,h)},{i:_-2,x:nt(c,f)})}else(h||f)&&p.push("translate("+h+n+f+e)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:nt(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:nt(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,p,g){if(u!==h||c!==f){var _=p.push(i(p)+"scale(",null,",",null,")");g.push({i:_-4,x:nt(u,h)},{i:_-2,x:nt(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(p){for(var g=-1,_=f.length,w;++g<_;)h[(w=f[g]).i]=w.x(p);return h.join("")}}}var hf=ba(cf,"px, ","px)","deg)"),pf=ba(ff,", ",")",")"),nn=0,bn=0,xn=0,xa=1e3,oe,Mn,se=0,Rt=0,ue=0,An=typeof performance=="object"&&performance.now?performance:Date,Ma=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function le(){return Rt||(Ma(df),Rt=An.now()+ue)}function df(){Rt=0}function $n(){this._call=this._time=this._next=null}$n.prototype=Aa.prototype={constructor:$n,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?le():+e)+(n==null?0:+n),!this._next&&Mn!==this&&(Mn?Mn._next=this:oe=this,Mn=this),this._call=t,this._time=e,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};function Aa(t,n,e){var r=new $n;return r.restart(t,n,e),r}function gf(){le(),++nn;for(var t=oe,n;t;)(n=Rt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--nn}function $a(){Rt=(se=An.now())+ue,nn=bn=0;try{gf()}finally{nn=0,_f(),Rt=0}}function yf(){var t=An.now(),n=t-se;n>xa&&(ue-=n,se=t)}function _f(){for(var t,n=oe,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:oe=e);Mn=t,Mr(r)}function Mr(t){if(!nn){bn&&(bn=clearTimeout(bn));var n=t-Rt;n>24?(t<1/0&&(bn=setTimeout($a,t-An.now()-ue)),xn&&(xn=clearInterval(xn))):(xn||(se=An.now(),xn=setInterval(yf,xa)),nn=1,Ma($a))}}function Pa(t,n,e){var r=new $n;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}function vf(t,n,e){var r=new $n,i=n;return r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?le():+s,r._restart(function l(u){u+=i,r._restart(l,i+=o,s),a(u)},o,s)},r.restart(t,n,e),r}var mf=Yi("start","end","cancel","interrupt"),wf=[],Ta=0,Na=1,Ar=2,ce=3,Sa=4,$r=5,fe=6;function he(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;bf(t,e,{name:n,index:r,group:i,on:mf,tween:wf,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ta})}function Pr(t,n){var e=et(t,n);if(e.state>Ta)throw new Error("too late; already scheduled");return e}function ft(t,n){var e=et(t,n);if(e.state>ce)throw new Error("too late; already running");return e}function et(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function bf(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Aa(a,0,e.time);function a(u){e.state=Na,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,h,f,p;if(e.state!==Na)return l();for(c in r)if(p=r[c],p.name===e.name){if(p.state===ce)return Pa(o);p.state===Sa?(p.state=fe,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=fe,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Pa(function(){e.state===ce&&(e.state=Sa,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=Ar,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ar){for(e.state=ce,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=$r,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===$r&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=fe,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function xf(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Ar&&r.state<$r,r.state=fe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function Mf(t){return this.each(function(){xf(this,t)})}function Af(t,n){var e,r;return function(){var i=ft(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function $f(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=ft(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function Pf(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=et(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Af:$f)(e,t,n))}function Tr(t,n,e){var r=t._id;return t.each(function(){var i=ft(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return et(i,r).value[n]}}function ka(t,n){var e;return(typeof n=="number"?nt:n instanceof zt?ie:(e=zt(n))?(n=e,ie):va)(t,n)}function Tf(t){return function(){this.removeAttribute(t)}}function Nf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sf(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function kf(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Ef(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function Of(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function If(t,n){var e=Jn(t),r=e==="transform"?pf:ka;return this.attrTween(t,typeof n=="function"?(e.local?Of:Ef)(e,r,Tr(this,"attr."+t,n)):n==null?(e.local?Nf:Tf)(e):(e.local?kf:Sf)(e,r,n))}function zf(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Cf(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function jf(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Cf(t,a)),e}return i._value=n,i}function Rf(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&zf(t,a)),e}return i._value=n,i}function Lf(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Jn(t);return this.tween(e,(r.local?jf:Rf)(r,n))}function Ff(t,n){return function(){Pr(this,t).delay=+n.apply(this,arguments)}}function Df(t,n){return n=+n,function(){Pr(this,t).delay=n}}function qf(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ff:Df)(n,t)):et(this.node(),n).delay}function Xf(t,n){return function(){ft(this,t).duration=+n.apply(this,arguments)}}function Bf(t,n){return n=+n,function(){ft(this,t).duration=n}}function Hf(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Xf:Bf)(n,t)):et(this.node(),n).duration}function Uf(t,n){if(typeof n!="function")throw new Error;return function(){ft(this,t).ease=n}}function Yf(t){var n=this._id;return arguments.length?this.each(Uf(n,t)):et(this.node(),n).ease}function Gf(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ft(this,t).ease=e}}function Vf(t){if(typeof t!="function")throw new Error;return this.each(Gf(this._id,t))}function Kf(t){typeof t!="function"&&(t=Wi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new gt(r,this._parents,this._name,this._id)}function Zf(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=n[s],u=e[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=n[s];return new gt(o,this._parents,this._name,this._id)}function Wf(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Jf(t,n,e){var r,i,a=Wf(n)?Pr:ft;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function Qf(t,n){var e=this._id;return arguments.length<2?et(this.node(),e).on.on(t):this.each(Jf(e,t,n))}function th(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function nh(){return this.on("end.remove",th(this._id))}function eh(t){var n=this._name,e=this._id;typeof t!="function"&&(t=pr(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,he(u[f],n,e,f,u,et(c,e)));return new gt(a,this._parents,n,e)}function rh(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Zi(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),p,g=et(c,e),_=0,w=f.length;_<w;++_)(p=f[_])&&he(p,n,e,_,f,g);a.push(f),o.push(c)}return new gt(a,o,n,e)}var ih=_n.prototype.constructor;function ah(){return new ih(this._groups,this._parents)}function oh(t,n){var e,r,i;return function(){var a=Qt(this,t),o=(this.style.removeProperty(t),Qt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Ea(t){return function(){this.style.removeProperty(t)}}function sh(t,n,e){var r,i=e+"",a;return function(){var o=Qt(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function uh(t,n,e){var r,i,a;return function(){var o=Qt(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Qt(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s))}}function lh(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var l=ft(this,t),u=l.on,c=l.value[a]==null?s||(s=Ea(n)):void 0;(u!==e||i!==c)&&(r=(e=u).copy()).on(o,i=c),l.on=r}}function ch(t,n,e){var r=(t+="")=="transform"?hf:ka;return n==null?this.styleTween(t,oh(t,r)).on("end.style."+t,Ea(t)):typeof n=="function"?this.styleTween(t,uh(t,r,Tr(this,"style."+t,n))).each(lh(this._id,t)):this.styleTween(t,sh(t,r,n),e).on("end.style."+t,null)}function fh(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function hh(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&fh(t,o,e)),r}return a._value=n,a}function ph(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,hh(t,n,e??""))}function dh(t){return function(){this.textContent=t}}function gh(t){return function(){var n=t(this);this.textContent=n??""}}function yh(t){return this.tween("text",typeof t=="function"?gh(Tr(this,"text",t)):dh(t==null?"":t+""))}function _h(t){return function(n){this.textContent=t.call(this,n)}}function vh(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&_h(i)),n}return r._value=t,r}function mh(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,vh(t))}function wh(){for(var t=this._name,n=this._id,e=Oa(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=et(l,n);he(l,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new gt(r,this._parents,t,e)}function bh(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};e.each(function(){var u=ft(this,r),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&a()})}var xh=0;function gt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Oa(){return++xh}var yt=_n.prototype;gt.prototype={constructor:gt,select:eh,selectAll:rh,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:Kf,merge:Zf,selection:ah,transition:wh,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:Qf,attr:If,attrTween:Lf,style:ch,styleTween:ph,text:yh,textTween:mh,remove:nh,tween:Pf,delay:qf,duration:Hf,ease:Yf,easeVarying:Vf,end:bh,[Symbol.iterator]:yt[Symbol.iterator]};function Mh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ah={time:null,delay:0,duration:250,ease:Mh};function $h(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Ph(t){var n,e;t instanceof gt?(n=t._id,t=t._name):(n=Oa(),(e=Ah).time=le(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&he(l,t,n,u,o,e||$h(l,n));return new gt(r,this._parents,t,n)}_n.prototype.interrupt=Mf,_n.prototype.transition=Ph;const Nr=Math.PI,Sr=2*Nr,Lt=1e-6,Th=Sr-Lt;function Ia(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Nh(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Ia;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Sh{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ia:Nh(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-n,u=i-e,c=o-n,h=s-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>Lt)if(!(Math.abs(h*l-u*c)>Lt)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-o,g=i-s,_=l*l+u*u,w=p*p+g*g,x=Math.sqrt(_),d=Math.sqrt(f),M=a*Math.tan((Nr-Math.acos((_+f-w)/(2*x*d)))/2),y=M/d,m=M/x;Math.abs(y-1)>Lt&&this._append`L${n+y*c},${e+y*h}`,this._append`A${a},${a},0,0,${+(h*p>c*g)},${this._x1=n+m*l},${this._y1=e+m*u}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,c=e+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Lt||Math.abs(this._y1-c)>Lt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Sr+Sr),f>Th?this._append`A${r},${r},0,1,${h},${n-s},${e-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>Lt&&this._append`A${r},${r},0,${+(f>=Nr)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pe(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function en(t){return t=pe(Math.abs(t)),t?t[1]:NaN}function Eh(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Oh(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Ih=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function de(t){if(!(n=Ih.exec(t)))throw new Error("invalid format: "+t);var n;return new kr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}de.prototype=kr.prototype;function kr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zh(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var za;function Ch(t,n){var e=pe(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(za=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pe(t,Math.max(0,n+a-1))[0]}function Ca(t,n){var e=pe(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ja={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kh,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ca(t*100,n),r:Ca,s:Ch,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ra(t){return t}var La=Array.prototype.map,Fa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function jh(t){var n=t.grouping===void 0||t.thousands===void 0?Ra:Eh(La.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ra:Oh(La.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=de(h);var f=h.fill,p=h.align,g=h.sign,_=h.symbol,w=h.zero,x=h.width,d=h.comma,M=h.precision,y=h.trim,m=h.type;m==="n"?(d=!0,m="g"):ja[m]||(M===void 0&&(M=12),y=!0,m="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var z=_==="$"?e:_==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",R=_==="$"?r:/[%p]/.test(m)?o:"",D=ja[m],W=/[defgprs%]/.test(m);M=M===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function J(v){var q=z,N=R,X,Wt,K;if(m==="c")N=D(v)+N,v="";else{v=+v;var Q=v<0||1/v<0;if(v=isNaN(v)?l:D(Math.abs(v),M),y&&(v=zh(v)),Q&&+v==0&&g!=="+"&&(Q=!1),q=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+q,N=(m==="s"?Fa[8+za/3]:"")+N+(Q&&g==="("?")":""),W){for(X=-1,Wt=v.length;++X<Wt;)if(K=v.charCodeAt(X),48>K||K>57){N=(K===46?i+v.slice(X+1):v.slice(X))+N,v=v.slice(0,X);break}}}d&&!w&&(v=n(v,1/0));var lt=q.length+v.length+N.length,L=lt<x?new Array(x-lt+1).join(f):"";switch(d&&w&&(v=n(L+v,L.length?x-N.length:1/0),L=""),p){case"<":v=q+v+N+L;break;case"=":v=q+L+v+N;break;case"^":v=L.slice(0,lt=L.length>>1)+q+v+N+L.slice(lt);break;default:v=L+q+v+N;break}return a(v)}return J.toString=function(){return h+""},J}function c(h,f){var p=u((h=de(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(en(f)/3)))*3,_=Math.pow(10,-g),w=Fa[8+g/3];return function(x){return p(_*x)+w}}return{format:u,formatPrefix:c}}var ge,Da,qa;Rh({thousands:",",grouping:[3],currency:["$",""]});function Rh(t){return ge=jh(t),Da=ge.format,qa=ge.formatPrefix,ge}function Lh(t){return Math.max(0,-en(Math.abs(t)))}function Fh(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(en(n)/3)))*3-en(Math.abs(t)))}function Dh(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,en(n)-en(t))+1}function qh(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Xh(t){return function(){return t}}function Bh(t){return+t}var Xa=[0,1];function rn(t){return t}function Er(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Xh(isNaN(n)?NaN:.5)}function Hh(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Uh(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Er(i,r),a=e(o,a)):(r=Er(r,i),a=e(a,o)),function(s){return a(r(s))}}function Yh(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Er(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var l=Ju(t,s,1,r)-1;return a[l](i[l](s))}}function Gh(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vh(){var t=Xa,n=Xa,e=br,r,i,a,o=rn,s,l,u;function c(){var f=Math.min(t.length,n.length);return o!==rn&&(o=Hh(t[0],t[f-1])),s=f>2?Yh:Uh,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),n,e)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(n,t.map(r),nt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Bh),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=lf,c()},h.clamp=function(f){return arguments.length?(o=f?!0:rn,c()):o!==rn},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return r=f,i=p,c()}}function Kh(){return Vh()(rn,rn)}function Zh(t,n,e,r){var i=rl(t,n,e),a;switch(r=de(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Fh(i,o))&&(r.precision=a),qa(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Dh(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Lh(i))&&(r.precision=a-(r.type==="%")*2);break}}return Da(r)}function Wh(t){var n=t.domain;return t.ticks=function(e){var r=n();return el(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Zh(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=fr(o,s,e),u===l)return r[i]=o,r[a]=s,n(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Pn(){var t=Kh();return t.copy=function(){return Gh(t,Pn())},qh.apply(t,arguments),Wh(t)}function an(t){return function(){return t}}function Jh(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Sh(n)}function Qh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ba(t){this._context=t}Ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function tp(t){return new Ba(t)}function np(t){return t[0]}function ep(t){return t[1]}function rp(t,n){var e=an(!0),r=null,i=tp,a=null,o=Jh(s);t=typeof t=="function"?t:t===void 0?np:an(t),n=typeof n=="function"?n:n===void 0?ep:an(n);function s(l){var u,c=(l=Qh(l)).length,h,f=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&e(h=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,l),+n(h,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:an(+l),s):t},s.y=function(l){return arguments.length?(n=typeof l=="function"?l:an(+l),s):n},s.defined=function(l){return arguments.length?(e=typeof l=="function"?l:an(!!l),s):e},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Tn(t,n,e){this.k=t,this.x=n,this.y=e}Tn.prototype={constructor:Tn,scale:function(t){return t===1?this:new Tn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Tn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Tn.prototype,(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".d3-widgets{--color-border: rgb(150, 150, 150);--color-background: #ccc;--color-text: #000;--color-symbol: #fff;--color-lit: #eee;--color-lit-symbol: #bbb;--color-selected: #000;--color-handle: #fff;--dw-font-size: 16px;--dw-line-height: 1.25;font-size:var(--dw-font-size);line-height:var(--dw-line-height);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:400}@media (prefers-color-scheme: dark){.d3-widgets{--color-border: rgb(105, 105, 105);--color-background: #333;--color-text: #bcbcbc;--color-symbol: #000;--color-lit: #111;--color-lit-symbol: #444;--color-selected: #dbdbdb;--color-handle: #9f9f9f}}.d3-widgets.dark-mode{--color-border: rgb(105, 105, 105);--color-background: #333;--color-text: #bcbcbc;--color-symbol: #000;--color-lit: #111;--color-lit-symbol: #444;--color-selected: #dbdbdb;--color-handle: #9f9f9f}._widget_9wct0_49{stroke:var(--color-border);stroke-width:1px;cursor:pointer;pointer-events:all;stroke-opacity:1;fill-opacity:1;fill:var(--color-background);font-size:1em}._widget_9wct0_49 ._title_9wct0_61{font-size:1.25em;fill:var(--color-text);stroke:none;text-anchor:middle}._widget_9wct0_49 ._label_9wct0_69{fill:var(--color-text);stroke:none}._widget_9wct0_49 ._lit_9wct0_74{fill:var(--color-lit)}._button_9wct0_78>._symbol_9wct0_78,._radio_9wct0_79>._radiobutton_9wct0_79>._symbol_9wct0_78{fill:var(--color-symbol);fill-rule:nonzero;pointer-events:none}._widget_9wct0_49 ._symbol_9wct0_78._selected_9wct0_85,._toggle_9wct0_86._selected_9wct0_85,._widget_9wct0_49 ._symbol_9wct0_78._selected_9wct0_85._lit_9wct0_74{fill:var(--color-selected)}._widget_9wct0_49 ._symbol_9wct0_78._lit_9wct0_74{fill:var(--color-lit-symbol)}._slider_9wct0_95>._track_9wct0_95,._toggle_9wct0_86>._track_9wct0_95{pointer-events:none}._slider_9wct0_95>._track_overlay_9wct0_100,._toggle_9wct0_86>._track_overlay_9wct0_100{pointer-events:all;cursor:pointer;fill:transparent;stroke:transparent}._slider_9wct0_95>._handle_9wct0_108,._toggle_9wct0_86>._handle_9wct0_108{fill:var(--color-handle)}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();function ye(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ip(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ha(t){let n,e,r;t.length!==2?(n=ye,e=(s,l)=>ye(t(s),l),r=(s,l)=>t(s)-l):(n=t===ye||t===ip?t:ap,e=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function ap(){return 0}function op(t){return t===null?NaN:+t}const sp=Ha(ye),up=sp.right;Ha(op).center;const lp=Math.sqrt(50),cp=Math.sqrt(10),fp=Math.sqrt(2);function _e(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=lp?10:a>=cp?5:a>=fp?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(n*u),s/u<t&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(n/u),s*u<t&&++s,l*u>n&&--l),l<s&&.5<=e&&e<2?_e(t,n,e*2):[s,l,u]}function hp(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?_e(n,t,e):_e(t,n,e);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Or(t,n,e){return n=+n,t=+t,e=+e,_e(t,n,e)[2]}function pp(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Or(n,t,e):Or(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ve(t,n){let e;for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function dp(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}var gp={value:()=>{}};function Ir(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new me(e)}function me(t){this._=t}function yp(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}me.prototype=Ir.prototype={constructor:me,on:function(t,n){var e=this._,r=yp(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=_p(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Ua(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Ua(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new me(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function _p(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Ua(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=gp,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var zr="http://www.w3.org/1999/xhtml";const Ya={svg:"http://www.w3.org/2000/svg",xhtml:zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function we(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ya.hasOwnProperty(n)?{space:Ya[n],local:t}:t}function vp(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===zr&&n.documentElement.namespaceURI===zr?n.createElement(t):n.createElementNS(e,t)}}function mp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ga(t){var n=we(t);return(n.local?mp:vp)(n)}function wp(){}function Cr(t){return t==null?wp:function(){return this.querySelector(t)}}function bp(t){typeof t!="function"&&(t=Cr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Y(r,this._parents)}function xp(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Mp(){return[]}function Va(t){return t==null?Mp:function(){return this.querySelectorAll(t)}}function Ap(t){return function(){return xp(t.apply(this,arguments))}}function $p(t){typeof t=="function"?t=Ap(t):t=Va(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Y(r,i)}function Ka(t){return function(){return this.matches(t)}}function Za(t){return function(n){return n.matches(t)}}var Pp=Array.prototype.find;function Tp(t){return function(){return Pp.call(this.children,t)}}function Np(){return this.firstElementChild}function Sp(t){return this.select(t==null?Np:Tp(typeof t=="function"?t:Za(t)))}var kp=Array.prototype.filter;function Ep(){return Array.from(this.children)}function Op(t){return function(){return kp.call(this.children,t)}}function Ip(t){return this.selectAll(t==null?Ep:Op(typeof t=="function"?t:Za(t)))}function zp(t){typeof t!="function"&&(t=Ka(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Y(r,this._parents)}function Wa(t){return new Array(t.length)}function Cp(){return new Y(this._enter||this._groups.map(Wa),this._parents)}function be(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}be.prototype={constructor:be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jp(t){return function(){return t}}function Rp(t,n,e,r,i,a){for(var o=0,s,l=n.length,u=a.length;o<u;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new be(t,a[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function Lp(t,n,e,r,i,a,o){var s,l,u=new Map,c=n.length,h=a.length,f=new Array(c),p;for(s=0;s<c;++s)(l=n[s])&&(f[s]=p=o.call(l,l.__data__,s,n)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<h;++s)p=o.call(t,a[s],s,a)+"",(l=u.get(p))?(r[s]=l,l.__data__=a[s],u.delete(p)):e[s]=new be(t,a[s]);for(s=0;s<c;++s)(l=n[s])&&u.get(f[s])===l&&(i[s]=l)}function Fp(t){return t.__data__}function Dp(t,n){if(!arguments.length)return Array.from(this,Fp);var e=n?Lp:Rp,r=this._parents,i=this._groups;typeof t!="function"&&(t=jp(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,p=qp(t.call(c,c&&c.__data__,u,r)),g=p.length,_=s[u]=new Array(g),w=o[u]=new Array(g),x=l[u]=new Array(f);e(c,h,_,w,x,p,n);for(var d=0,M=0,y,m;d<g;++d)if(y=_[d]){for(d>=M&&(M=d+1);!(m=w[M])&&++M<g;);y._next=m||null}}return o=new Y(o,r),o._enter=s,o._exit=l,o}function qp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xp(){return new Y(this._exit||this._groups.map(Wa),this._parents)}function Bp(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Hp(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=e[l],c=r[l],h=u.length,f=s[l]=new Array(h),p,g=0;g<h;++g)(p=u[g]||c[g])&&(f[g]=p);for(;l<i;++l)s[l]=e[l];return new Y(s,this._parents)}function Up(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Yp(t){t||(t=Gp);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new Y(i,this._parents).order()}function Gp(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Vp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Kp(){return Array.from(this)}function Zp(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Wp(){let t=0;for(const n of this)++t;return t}function Jp(){return!this.node()}function Qp(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function td(t){return function(){this.removeAttribute(t)}}function nd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ed(t,n){return function(){this.setAttribute(t,n)}}function rd(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function id(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function ad(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function od(t,n){var e=we(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?nd:td:typeof n=="function"?e.local?ad:id:e.local?rd:ed)(e,n))}function Ja(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sd(t){return function(){this.style.removeProperty(t)}}function ud(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ld(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function cd(t,n,e){return arguments.length>1?this.each((n==null?sd:typeof n=="function"?ld:ud)(t,n,e??"")):on(this.node(),t)}function on(t,n){return t.style.getPropertyValue(n)||Ja(t).getComputedStyle(t,null).getPropertyValue(n)}function fd(t){return function(){delete this[t]}}function hd(t,n){return function(){this[t]=n}}function pd(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function dd(t,n){return arguments.length>1?this.each((n==null?fd:typeof n=="function"?pd:hd)(t,n)):this.node()[t]}function Qa(t){return t.trim().split(/^|\s+/)}function jr(t){return t.classList||new to(t)}function to(t){this._node=t,this._names=Qa(t.getAttribute("class")||"")}to.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function no(t,n){for(var e=jr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function eo(t,n){for(var e=jr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function gd(t){return function(){no(this,t)}}function yd(t){return function(){eo(this,t)}}function _d(t,n){return function(){(n.apply(this,arguments)?no:eo)(this,t)}}function vd(t,n){var e=Qa(t+"");if(arguments.length<2){for(var r=jr(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?_d:n?gd:yd)(e,n))}function md(){this.textContent=""}function wd(t){return function(){this.textContent=t}}function bd(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function xd(t){return arguments.length?this.each(t==null?md:(typeof t=="function"?bd:wd)(t)):this.node().textContent}function Md(){this.innerHTML=""}function Ad(t){return function(){this.innerHTML=t}}function $d(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Pd(t){return arguments.length?this.each(t==null?Md:(typeof t=="function"?$d:Ad)(t)):this.node().innerHTML}function Td(){this.nextSibling&&this.parentNode.appendChild(this)}function Nd(){return this.each(Td)}function Sd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kd(){return this.each(Sd)}function Ed(t){var n=typeof t=="function"?t:Ga(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Od(){return null}function Id(t,n){var e=typeof t=="function"?t:Ga(t),r=n==null?Od:typeof n=="function"?n:Cr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function zd(){var t=this.parentNode;t&&t.removeChild(this)}function Cd(){return this.each(zd)}function jd(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Rd(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ld(t){return this.select(t?Rd:jd)}function Fd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Dd(t){return function(n){t.call(this,n,this.__data__)}}function qd(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Xd(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Bd(t,n,e){return function(){var r=this.__on,i,a=Dd(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Hd(t,n,e){var r=qd(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?Bd:Xd,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function ro(t,n,e){var r=Ja(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ud(t,n){return function(){return ro(this,t,n)}}function Yd(t,n){return function(){return ro(this,t,n.apply(this,arguments))}}function Gd(t,n){return this.each((typeof n=="function"?Yd:Ud)(t,n))}function*Vd(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var io=[null];function Y(t,n){this._groups=t,this._parents=n}function Nn(){return new Y([[document.documentElement]],io)}function Kd(){return this}Y.prototype=Nn.prototype={constructor:Y,select:bp,selectAll:$p,selectChild:Sp,selectChildren:Ip,filter:zp,data:Dp,enter:Cp,exit:Xp,join:Bp,merge:Hp,selection:Kd,order:Up,sort:Yp,call:Vp,nodes:Kp,node:Zp,size:Wp,empty:Jp,each:Qp,attr:od,style:cd,property:dd,classed:vd,text:xd,html:Pd,raise:Nd,lower:kd,append:Ed,insert:Id,remove:Cd,clone:Ld,datum:Fd,on:Hd,dispatch:Gd,[Symbol.iterator]:Vd};function F(t){return typeof t=="string"?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],io)}function Zd(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ao(t,n){if(t=Zd(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const Wd={passive:!1},Sn={capture:!0,passive:!1};function Rr(t){t.stopImmediatePropagation()}function sn(t){t.preventDefault(),t.stopImmediatePropagation()}function Jd(t){var n=t.document.documentElement,e=F(t).on("dragstart.drag",sn,Sn);"onselectstart"in n?e.on("selectstart.drag",sn,Sn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Qd(t,n){var e=t.document.documentElement,r=F(t).on("dragstart.drag",null);n&&(r.on("click.drag",sn,Sn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const xe=t=>()=>t;function Lr(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Lr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function t0(t){return!t.ctrlKey&&!t.button}function n0(){return this.parentNode}function e0(t,n){return n??{x:t.x,y:t.y}}function r0(){return navigator.maxTouchPoints||"ontouchstart"in this}function i0(){var t=t0,n=n0,e=e0,r=r0,i={},a=Ir("start","drag","end"),o=0,s,l,u,c,h=0;function f(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",x,Wd).on("touchend.drag touchcancel.drag",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,m){if(!(c||!t.call(this,y,m))){var z=M(this,n.call(this,y,m),y,m,"mouse");z&&(F(y.view).on("mousemove.drag",g,Sn).on("mouseup.drag",_,Sn),Jd(y.view),Rr(y),u=!1,s=y.clientX,l=y.clientY,z("start",y))}}function g(y){if(sn(y),!u){var m=y.clientX-s,z=y.clientY-l;u=m*m+z*z>h}i.mouse("drag",y)}function _(y){F(y.view).on("mousemove.drag mouseup.drag",null),Qd(y.view,u),sn(y),i.mouse("end",y)}function w(y,m){if(t.call(this,y,m)){var z=y.changedTouches,R=n.call(this,y,m),D=z.length,W,J;for(W=0;W<D;++W)(J=M(this,R,y,m,z[W].identifier,z[W]))&&(Rr(y),J("start",y,z[W]))}}function x(y){var m=y.changedTouches,z=m.length,R,D;for(R=0;R<z;++R)(D=i[m[R].identifier])&&(sn(y),D("drag",y,m[R]))}function d(y){var m=y.changedTouches,z=m.length,R,D;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<z;++R)(D=i[m[R].identifier])&&(Rr(y),D("end",y,m[R]))}function M(y,m,z,R,D,W){var J=a.copy(),v=ao(W||z,m),q,N,X;if((X=e.call(y,new Lr("beforestart",{sourceEvent:z,target:f,identifier:D,active:o,x:v[0],y:v[1],dx:0,dy:0,dispatch:J}),R))!=null)return q=X.x-v[0]||0,N=X.y-v[1]||0,function Wt(K,Q,lt){var L=v,Hi;switch(K){case"start":i[D]=Wt,Hi=o++;break;case"end":delete i[D],--o;case"drag":v=ao(lt||Q,m),Hi=o;break}J.call(K,y,new Lr(K,{sourceEvent:Q,subject:X,target:f,identifier:D,active:Hi,x:v[0]+q,y:v[1]+N,dx:v[0]-L[0],dy:v[1]-L[1],dispatch:J}),R)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:xe(!!y),f):t},f.container=function(y){return arguments.length?(n=typeof y=="function"?y:xe(y),f):n},f.subject=function(y){return arguments.length?(e=typeof y=="function"?y:xe(y),f):e},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:xe(!!y),f):r},f.on=function(){var y=a.on.apply(a,arguments);return y===a?f:y},f.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,f):Math.sqrt(h)},f}function Fr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function oo(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function kn(){}var En=.7,Me=1/En,un="\\s*([+-]?\\d+)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a0=/^#([0-9a-f]{3,8})$/,o0=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),s0=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),u0=new RegExp(`^rgba\\(${un},${un},${un},${On}\\)$`),l0=new RegExp(`^rgba\\(${ht},${ht},${ht},${On}\\)$`),c0=new RegExp(`^hsl\\(${On},${ht},${ht}\\)$`),f0=new RegExp(`^hsla\\(${On},${ht},${ht},${On}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fr(kn,Ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uo,formatHex:uo,formatHex8:h0,formatHsl:p0,formatRgb:lo,toString:lo});function uo(){return this.rgb().formatHex()}function h0(){return this.rgb().formatHex8()}function p0(){return go(this).formatHsl()}function lo(){return this.rgb().formatRgb()}function Ft(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=a0.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?co(n):e===3?new H(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Ae(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Ae(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=o0.exec(t))?new H(n[1],n[2],n[3],1):(n=s0.exec(t))?new H(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=u0.exec(t))?Ae(n[1],n[2],n[3],n[4]):(n=l0.exec(t))?Ae(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=c0.exec(t))?po(n[1],n[2]/100,n[3]/100,1):(n=f0.exec(t))?po(n[1],n[2]/100,n[3]/100,n[4]):so.hasOwnProperty(t)?co(so[t]):t==="transparent"?new H(NaN,NaN,NaN,0):null}function co(t){return new H(t>>16&255,t>>8&255,t&255,1)}function Ae(t,n,e,r){return r<=0&&(t=n=e=NaN),new H(t,n,e,r)}function d0(t){return t instanceof kn||(t=Ft(t)),t?(t=t.rgb(),new H(t.r,t.g,t.b,t.opacity)):new H}function Dr(t,n,e,r){return arguments.length===1?d0(t):new H(t,n,e,r??1)}function H(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Fr(H,Dr,oo(kn,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new H(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?En:Math.pow(En,t),new H(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new H(Dt(this.r),Dt(this.g),Dt(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fo,formatHex:fo,formatHex8:g0,formatRgb:ho,toString:ho}));function fo(){return`#${qt(this.r)}${qt(this.g)}${qt(this.b)}`}function g0(){return`#${qt(this.r)}${qt(this.g)}${qt(this.b)}${qt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ho(){const t=$e(this.opacity);return`${t===1?"rgb(":"rgba("}${Dt(this.r)}, ${Dt(this.g)}, ${Dt(this.b)}${t===1?")":`, ${t})`}`}function $e(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qt(t){return t=Dt(t),(t<16?"0":"")+t.toString(16)}function po(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new rt(t,n,e,r)}function go(t){if(t instanceof rt)return new rt(t.h,t.s,t.l,t.opacity);if(t instanceof kn||(t=Ft(t)),!t)return new rt;if(t instanceof rt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new rt(o,s,l,t.opacity)}function y0(t,n,e,r){return arguments.length===1?go(t):new rt(t,n,e,r??1)}function rt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Fr(rt,y0,oo(kn,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?En:Math.pow(En,t),new rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new H(qr(t>=240?t-240:t+120,i,r),qr(t,i,r),qr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new rt(yo(this.h),Pe(this.s),Pe(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$e(this.opacity);return`${t===1?"hsl(":"hsla("}${yo(this.h)}, ${Pe(this.s)*100}%, ${Pe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yo(t){return t=(t||0)%360,t<0?t+360:t}function Pe(t){return Math.max(0,Math.min(1,t||0))}function qr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Xr=t=>()=>t;function _0(t,n){return function(e){return t+e*n}}function v0(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function m0(t){return(t=+t)==1?_o:function(n,e){return e-n?v0(n,e,t):Xr(isNaN(n)?e:n)}}function _o(t,n){var e=n-t;return e?_0(t,e):Xr(isNaN(t)?n:t)}const Te=(function t(n){var e=m0(n);function r(i,a){var o=e((i=Dr(i)).r,(a=Dr(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),u=_o(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r})(1);function w0(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function b0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function x0(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ur(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function M0(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function it(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function A0(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ur(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(Br.source,"g");function $0(t){return function(){return t}}function P0(t){return function(n){return t(n)+""}}function vo(t,n){var e=Br.lastIndex=Hr.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",n=n+"";(r=Br.exec(t))&&(i=Hr.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:it(r,i)})),e=Hr.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?P0(l[0].x):$0(n):(n=l.length,function(u){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Ur(t,n){var e=typeof n,r;return n==null||e==="boolean"?Xr(n):(e==="number"?it:e==="string"?(r=Ft(n))?(n=r,Te):vo:n instanceof Ft?Te:n instanceof Date?M0:b0(n)?w0:Array.isArray(n)?x0:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?A0:it)(t,n)}function T0(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var mo=180/Math.PI,wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bo(t,n,e,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*mo,skewX:Math.atan(l)*mo,scaleX:o,scaleY:s}}var Ne;function N0(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?wo:bo(n.a,n.b,n.c,n.d,n.e,n.f)}function S0(t){return t==null||(Ne||(Ne=document.createElementNS("http://www.w3.org/2000/svg","g")),Ne.setAttribute("transform",t),!(t=Ne.transform.baseVal.consolidate()))?wo:(t=t.matrix,bo(t.a,t.b,t.c,t.d,t.e,t.f))}function xo(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,p,g){if(u!==h||c!==f){var _=p.push("translate(",null,n,null,e);g.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h||f)&&p.push("translate("+h+n+f+e)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:it(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:it(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,p,g){if(u!==h||c!==f){var _=p.push(i(p)+"scale(",null,",",null,")");g.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(p){for(var g=-1,_=f.length,w;++g<_;)h[(w=f[g]).i]=w.x(p);return h.join("")}}}var k0=xo(N0,"px, ","px)","deg)"),E0=xo(S0,", ",")",")"),ln=0,In=0,zn=0,Mo=1e3,Se,Cn,ke=0,Xt=0,Ee=0,jn=typeof performance=="object"&&performance.now?performance:Date,Ao=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yr(){return Xt||(Ao(O0),Xt=jn.now()+Ee)}function O0(){Xt=0}function Oe(){this._call=this._time=this._next=null}Oe.prototype=$o.prototype={constructor:Oe,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Yr():+e)+(n==null?0:+n),!this._next&&Cn!==this&&(Cn?Cn._next=this:Se=this,Cn=this),this._call=t,this._time=e,Gr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gr())}};function $o(t,n,e){var r=new Oe;return r.restart(t,n,e),r}function I0(){Yr(),++ln;for(var t=Se,n;t;)(n=Xt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--ln}function Po(){Xt=(ke=jn.now())+Ee,ln=In=0;try{I0()}finally{ln=0,C0(),Xt=0}}function z0(){var t=jn.now(),n=t-ke;n>Mo&&(Ee-=n,ke=t)}function C0(){for(var t,n=Se,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Se=e);Cn=t,Gr(r)}function Gr(t){if(!ln){In&&(In=clearTimeout(In));var n=t-Xt;n>24?(t<1/0&&(In=setTimeout(Po,t-jn.now()-Ee)),zn&&(zn=clearInterval(zn))):(zn||(ke=jn.now(),zn=setInterval(z0,Mo)),ln=1,Ao(Po))}}function To(t,n,e){var r=new Oe;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var j0=Ir("start","end","cancel","interrupt"),R0=[],No=0,So=1,Vr=2,Ie=3,ko=4,Kr=5,ze=6;function Ce(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;L0(t,e,{name:n,index:r,group:i,on:j0,tween:R0,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:No})}function Zr(t,n){var e=at(t,n);if(e.state>No)throw new Error("too late; already scheduled");return e}function pt(t,n){var e=at(t,n);if(e.state>Ie)throw new Error("too late; already running");return e}function at(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function L0(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=$o(a,0,e.time);function a(u){e.state=So,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,h,f,p;if(e.state!==So)return l();for(c in r)if(p=r[c],p.name===e.name){if(p.state===Ie)return To(o);p.state===ko?(p.state=ze,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=ze,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(To(function(){e.state===Ie&&(e.state=ko,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=Vr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Vr){for(e.state=Ie,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=Kr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===Kr&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=ze,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function F0(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Vr&&r.state<Kr,r.state=ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function D0(t){return this.each(function(){F0(this,t)})}function q0(t,n){var e,r;return function(){var i=pt(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function X0(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=pt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function B0(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=at(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?q0:X0)(e,t,n))}function Wr(t,n,e){var r=t._id;return t.each(function(){var i=pt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return at(i,r).value[n]}}function Eo(t,n){var e;return(typeof n=="number"?it:n instanceof Ft?Te:(e=Ft(n))?(n=e,Te):vo)(t,n)}function H0(t){return function(){this.removeAttribute(t)}}function U0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y0(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function G0(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function V0(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function K0(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function Z0(t,n){var e=we(t),r=e==="transform"?E0:Eo;return this.attrTween(t,typeof n=="function"?(e.local?K0:V0)(e,r,Wr(this,"attr."+t,n)):n==null?(e.local?U0:H0)(e):(e.local?G0:Y0)(e,r,n))}function W0(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function J0(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Q0(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&J0(t,a)),e}return i._value=n,i}function tg(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&W0(t,a)),e}return i._value=n,i}function ng(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=we(t);return this.tween(e,(r.local?Q0:tg)(r,n))}function eg(t,n){return function(){Zr(this,t).delay=+n.apply(this,arguments)}}function rg(t,n){return n=+n,function(){Zr(this,t).delay=n}}function ig(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?eg:rg)(n,t)):at(this.node(),n).delay}function ag(t,n){return function(){pt(this,t).duration=+n.apply(this,arguments)}}function og(t,n){return n=+n,function(){pt(this,t).duration=n}}function sg(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ag:og)(n,t)):at(this.node(),n).duration}function ug(t,n){if(typeof n!="function")throw new Error;return function(){pt(this,t).ease=n}}function lg(t){var n=this._id;return arguments.length?this.each(ug(n,t)):at(this.node(),n).ease}function cg(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;pt(this,t).ease=e}}function fg(t){if(typeof t!="function")throw new Error;return this.each(cg(this._id,t))}function hg(t){typeof t!="function"&&(t=Ka(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new _t(r,this._parents,this._name,this._id)}function pg(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=n[s],u=e[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=n[s];return new _t(o,this._parents,this._name,this._id)}function dg(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function gg(t,n,e){var r,i,a=dg(n)?Zr:pt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function yg(t,n){var e=this._id;return arguments.length<2?at(this.node(),e).on.on(t):this.each(gg(e,t,n))}function _g(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function vg(){return this.on("end.remove",_g(this._id))}function mg(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Cr(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Ce(u[f],n,e,f,u,at(c,e)));return new _t(a,this._parents,n,e)}function wg(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Va(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),p,g=at(c,e),_=0,w=f.length;_<w;++_)(p=f[_])&&Ce(p,n,e,_,f,g);a.push(f),o.push(c)}return new _t(a,o,n,e)}var bg=Nn.prototype.constructor;function xg(){return new bg(this._groups,this._parents)}function Mg(t,n){var e,r,i;return function(){var a=on(this,t),o=(this.style.removeProperty(t),on(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Oo(t){return function(){this.style.removeProperty(t)}}function Ag(t,n,e){var r,i=e+"",a;return function(){var o=on(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function $g(t,n,e){var r,i,a;return function(){var o=on(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),on(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s))}}function Pg(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var l=pt(this,t),u=l.on,c=l.value[a]==null?s||(s=Oo(n)):void 0;(u!==e||i!==c)&&(r=(e=u).copy()).on(o,i=c),l.on=r}}function Tg(t,n,e){var r=(t+="")=="transform"?k0:Eo;return n==null?this.styleTween(t,Mg(t,r)).on("end.style."+t,Oo(t)):typeof n=="function"?this.styleTween(t,$g(t,r,Wr(this,"style."+t,n))).each(Pg(this._id,t)):this.styleTween(t,Ag(t,r,n),e).on("end.style."+t,null)}function Ng(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Sg(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Ng(t,o,e)),r}return a._value=n,a}function kg(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Sg(t,n,e??""))}function Eg(t){return function(){this.textContent=t}}function Og(t){return function(){var n=t(this);this.textContent=n??""}}function Ig(t){return this.tween("text",typeof t=="function"?Og(Wr(this,"text",t)):Eg(t==null?"":t+""))}function zg(t){return function(n){this.textContent=t.call(this,n)}}function Cg(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&zg(i)),n}return r._value=t,r}function jg(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Cg(t))}function Rg(){for(var t=this._name,n=this._id,e=Io(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=at(l,n);Ce(l,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _t(r,this._parents,t,e)}function Lg(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};e.each(function(){var u=pt(this,r),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&a()})}var Fg=0;function _t(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Io(){return++Fg}var vt=Nn.prototype;_t.prototype={constructor:_t,select:mg,selectAll:wg,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:hg,merge:pg,selection:xg,transition:Rg,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:yg,attr:Z0,attrTween:ng,style:Tg,styleTween:kg,text:Ig,textTween:jg,remove:vg,tween:B0,delay:ig,duration:sg,ease:lg,easeVarying:fg,end:Lg,[Symbol.iterator]:vt[Symbol.iterator]};function Dg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qg={time:null,delay:0,duration:250,ease:Dg};function Xg(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Bg(t){var n,e;t instanceof _t?(n=t._id,t=t._name):(n=Io(),(e=qg).time=Yr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Ce(l,t,n,u,o,e||Xg(l,n));return new _t(r,this._parents,t,n)}Nn.prototype.interrupt=D0,Nn.prototype.transition=Bg;const Jr=Math.PI,Qr=2*Jr,Bt=1e-6,Hg=Qr-Bt;function zo(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ug(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return zo;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Co{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?zo:Ug(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-n,u=i-e,c=o-n,h=s-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>Bt)if(!(Math.abs(h*l-u*c)>Bt)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-o,g=i-s,_=l*l+u*u,w=p*p+g*g,x=Math.sqrt(_),d=Math.sqrt(f),M=a*Math.tan((Jr-Math.acos((_+f-w)/(2*x*d)))/2),y=M/d,m=M/x;Math.abs(y-1)>Bt&&this._append`L${n+y*c},${e+y*h}`,this._append`A${a},${a},0,0,${+(h*p>c*g)},${this._x1=n+m*l},${this._y1=e+m*u}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,c=e+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Bt||Math.abs(this._y1-c)>Bt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Qr+Qr),f>Hg?this._append`A${r},${r},0,1,${h},${n-s},${e-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>Bt&&this._append`A${r},${r},0,${+(f>=Jr)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ot(){return new Co}ot.prototype=Co.prototype;function Yg(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function je(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function cn(t){return t=je(Math.abs(t)),t?t[1]:NaN}function Gg(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Vg(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Kg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Re(t){if(!(n=Kg.exec(t)))throw new Error("invalid format: "+t);var n;return new ti({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Re.prototype=ti.prototype;function ti(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ti.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zg(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jo;function Wg(t,n){var e=je(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(jo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+je(t,Math.max(0,n+a-1))[0]}function Ro(t,n){var e=je(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Lo={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yg,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ro(t*100,n),r:Ro,s:Wg,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fo(t){return t}var Do=Array.prototype.map,qo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jg(t){var n=t.grouping===void 0||t.thousands===void 0?Fo:Gg(Do.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Fo:Vg(Do.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Re(h);var f=h.fill,p=h.align,g=h.sign,_=h.symbol,w=h.zero,x=h.width,d=h.comma,M=h.precision,y=h.trim,m=h.type;m==="n"?(d=!0,m="g"):Lo[m]||(M===void 0&&(M=12),y=!0,m="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var z=_==="$"?e:_==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",R=_==="$"?r:/[%p]/.test(m)?o:"",D=Lo[m],W=/[defgprs%]/.test(m);M=M===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function J(v){var q=z,N=R,X,Wt,K;if(m==="c")N=D(v)+N,v="";else{v=+v;var Q=v<0||1/v<0;if(v=isNaN(v)?l:D(Math.abs(v),M),y&&(v=Zg(v)),Q&&+v==0&&g!=="+"&&(Q=!1),q=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+q,N=(m==="s"?qo[8+jo/3]:"")+N+(Q&&g==="("?")":""),W){for(X=-1,Wt=v.length;++X<Wt;)if(K=v.charCodeAt(X),48>K||K>57){N=(K===46?i+v.slice(X+1):v.slice(X))+N,v=v.slice(0,X);break}}}d&&!w&&(v=n(v,1/0));var lt=q.length+v.length+N.length,L=lt<x?new Array(x-lt+1).join(f):"";switch(d&&w&&(v=n(L+v,L.length?x-N.length:1/0),L=""),p){case"<":v=q+v+N+L;break;case"=":v=q+L+v+N;break;case"^":v=L.slice(0,lt=L.length>>1)+q+v+N+L.slice(lt);break;default:v=L+q+v+N;break}return a(v)}return J.toString=function(){return h+""},J}function c(h,f){var p=u((h=Re(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(cn(f)/3)))*3,_=Math.pow(10,-g),w=qo[8+g/3];return function(x){return p(_*x)+w}}return{format:u,formatPrefix:c}}var Le,Fe,Xo;Qg({thousands:",",grouping:[3],currency:["$",""]});function Qg(t){return Le=Jg(t),Fe=Le.format,Xo=Le.formatPrefix,Le}function ty(t){return Math.max(0,-cn(Math.abs(t)))}function ny(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(n)/3)))*3-cn(Math.abs(t)))}function ey(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,cn(n)-cn(t))+1}function ry(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function iy(t){return function(){return t}}function ay(t){return+t}var Bo=[0,1];function fn(t){return t}function ni(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:iy(isNaN(n)?NaN:.5)}function oy(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function sy(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=ni(i,r),a=e(o,a)):(r=ni(r,i),a=e(a,o)),function(s){return a(r(s))}}function uy(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=ni(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var l=up(t,s,1,r)-1;return a[l](i[l](s))}}function ly(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cy(){var t=Bo,n=Bo,e=Ur,r,i,a,o=fn,s,l,u;function c(){var f=Math.min(t.length,n.length);return o!==fn&&(o=oy(t[0],t[f-1])),s=f>2?uy:sy,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),n,e)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(n,t.map(r),it)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,ay),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=T0,c()},h.clamp=function(f){return arguments.length?(o=f?!0:fn,c()):o!==fn},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return r=f,i=p,c()}}function fy(){return cy()(fn,fn)}function hy(t,n,e,r){var i=pp(t,n,e),a;switch(r=Re(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=ny(i,o))&&(r.precision=a),Xo(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ey(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ty(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fe(r)}function py(t){var n=t.domain;return t.ticks=function(e){var r=n();return hp(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return hy(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Or(o,s,e),u===l)return r[i]=o,r[a]=s,n(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function hn(){var t=fy();return t.copy=function(){return ly(t,hn())},ry.apply(t,arguments),py(t)}function Rn(t,n,e){this.k=t,this.x=n,this.y=e}Rn.prototype={constructor:Rn,scale:function(t){return t===1?this:new Rn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Rn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Rn.prototype;var Ho=typeof global=="object"&&global&&global.Object===Object&&global,dy=typeof self=="object"&&self&&self.Object===Object&&self,mt=Ho||dy||Function("return this")(),dt=mt.Symbol,Uo=Object.prototype,gy=Uo.hasOwnProperty,yy=Uo.toString,Ln=dt?dt.toStringTag:void 0;function _y(t){var n=gy.call(t,Ln),e=t[Ln];try{t[Ln]=void 0;var r=!0}catch{}var i=yy.call(t);return r&&(n?t[Ln]=e:delete t[Ln]),i}var vy=Object.prototype,my=vy.toString;function wy(t){return my.call(t)}var by="[object Null]",xy="[object Undefined]",Yo=dt?dt.toStringTag:void 0;function pn(t){return t==null?t===void 0?xy:by:Yo&&Yo in Object(t)?_y(t):wy(t)}function dn(t){return t!=null&&typeof t=="object"}var My="[object Symbol]";function De(t){return typeof t=="symbol"||dn(t)&&pn(t)==My}function Go(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var st=Array.isArray,Vo=dt?dt.prototype:void 0,Ko=Vo?Vo.toString:void 0;function Zo(t){if(typeof t=="string")return t;if(st(t))return Go(t,Zo)+"";if(De(t))return Ko?Ko.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}var Ay=/\s/;function $y(t){for(var n=t.length;n--&&Ay.test(t.charAt(n)););return n}var Py=/^\s+/;function Ty(t){return t&&t.slice(0,$y(t)+1).replace(Py,"")}function gn(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Wo=NaN,Ny=/^[-+]0x[0-9a-f]+$/i,Sy=/^0b[01]+$/i,ky=/^0o[0-7]+$/i,Ey=parseInt;function Oy(t){if(typeof t=="number")return t;if(De(t))return Wo;if(gn(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=gn(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=Ty(t);var e=Sy.test(t);return e||ky.test(t)?Ey(t.slice(2),e?2:8):Ny.test(t)?Wo:+t}var Iy=1/0,zy=17976931348623157e292;function ei(t){if(!t)return t===0?t:0;if(t=Oy(t),t===Iy||t===-1/0){var n=t<0?-1:1;return n*zy}return t===t?t:0}function Cy(t){return t}var jy="[object AsyncFunction]",Ry="[object Function]",Ly="[object GeneratorFunction]",Fy="[object Proxy]";function Jo(t){if(!gn(t))return!1;var n=pn(t);return n==Ry||n==Ly||n==jy||n==Fy}var ri=mt["__core-js_shared__"],Qo=(function(){var t=/[^.]+$/.exec(ri&&ri.keys&&ri.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Dy(t){return!!Qo&&Qo in t}var qy=Function.prototype,Xy=qy.toString;function Ht(t){if(t!=null){try{return Xy.call(t)}catch{}try{return t+""}catch{}}return""}var By=/[\\^$.*+?()[\]{}|]/g,Hy=/^\[object .+?Constructor\]$/,Uy=Function.prototype,Yy=Object.prototype,Gy=Uy.toString,Vy=Yy.hasOwnProperty,Ky=RegExp("^"+Gy.call(Vy).replace(By,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zy(t){if(!gn(t)||Dy(t))return!1;var n=Jo(t)?Ky:Hy;return n.test(Ht(t))}function Wy(t,n){return t==null?void 0:t[n]}function yn(t,n){var e=Wy(t,n);return Zy(e)?e:void 0}var ii=yn(mt,"WeakMap"),Jy=9007199254740991,Qy=/^(?:0|[1-9]\d*)$/;function ai(t,n){var e=typeof t;return n=n??Jy,!!n&&(e=="number"||e!="symbol"&&Qy.test(t))&&t>-1&&t%1==0&&t<n}function oi(t,n){return t===n||t!==t&&n!==n}var t_=9007199254740991;function si(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t_}function qe(t){return t!=null&&si(t.length)&&!Jo(t)}function n_(t,n,e){if(!gn(e))return!1;var r=typeof n;return(r=="number"?qe(e)&&ai(n,e.length):r=="string"&&n in e)?oi(e[n],t):!1}var e_=Object.prototype;function r_(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||e_;return t===e}function i_(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var a_="[object Arguments]";function ts(t){return dn(t)&&pn(t)==a_}var ns=Object.prototype,o_=ns.hasOwnProperty,s_=ns.propertyIsEnumerable,ui=ts((function(){return arguments})())?ts:function(t){return dn(t)&&o_.call(t,"callee")&&!s_.call(t,"callee")};function u_(){return!1}var es=typeof k=="object"&&k&&!k.nodeType&&k,rs=es&&typeof module=="object"&&module&&!module.nodeType&&module,l_=rs&&rs.exports===es,is=l_?mt.Buffer:void 0,c_=is?is.isBuffer:void 0,li=c_||u_,f_="[object Arguments]",h_="[object Array]",p_="[object Boolean]",d_="[object Date]",g_="[object Error]",y_="[object Function]",__="[object Map]",v_="[object Number]",m_="[object Object]",w_="[object RegExp]",b_="[object Set]",x_="[object String]",M_="[object WeakMap]",A_="[object ArrayBuffer]",$_="[object DataView]",P_="[object Float32Array]",T_="[object Float64Array]",N_="[object Int8Array]",S_="[object Int16Array]",k_="[object Int32Array]",E_="[object Uint8Array]",O_="[object Uint8ClampedArray]",I_="[object Uint16Array]",z_="[object Uint32Array]",E={};E[P_]=E[T_]=E[N_]=E[S_]=E[k_]=E[E_]=E[O_]=E[I_]=E[z_]=!0,E[f_]=E[h_]=E[A_]=E[p_]=E[$_]=E[d_]=E[g_]=E[y_]=E[__]=E[v_]=E[m_]=E[w_]=E[b_]=E[x_]=E[M_]=!1;function C_(t){return dn(t)&&si(t.length)&&!!E[pn(t)]}function j_(t){return function(n){return t(n)}}var as=typeof k=="object"&&k&&!k.nodeType&&k,Fn=as&&typeof module=="object"&&module&&!module.nodeType&&module,R_=Fn&&Fn.exports===as,ci=R_&&Ho.process,os=(function(){try{var t=Fn&&Fn.require&&Fn.require("util").types;return t||ci&&ci.binding&&ci.binding("util")}catch{}})(),ss=os&&os.isTypedArray,us=ss?j_(ss):C_,L_=Object.prototype,F_=L_.hasOwnProperty;function D_(t,n){var e=st(t),r=!e&&ui(t),i=!e&&!r&&li(t),a=!e&&!r&&!i&&us(t),o=e||r||i||a,s=o?i_(t.length,String):[],l=s.length;for(var u in t)F_.call(t,u)&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ai(u,l)))&&s.push(u);return s}function q_(t,n){return function(e){return t(n(e))}}var X_=q_(Object.keys,Object),B_=Object.prototype,H_=B_.hasOwnProperty;function U_(t){if(!r_(t))return X_(t);var n=[];for(var e in Object(t))H_.call(t,e)&&e!="constructor"&&n.push(e);return n}function fi(t){return qe(t)?D_(t):U_(t)}var Y_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G_=/^\w*$/;function hi(t,n){if(st(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||De(t)?!0:G_.test(t)||!Y_.test(t)||n!=null&&t in Object(n)}var Dn=yn(Object,"create");function V_(){this.__data__=Dn?Dn(null):{},this.size=0}function K_(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var Z_="__lodash_hash_undefined__",W_=Object.prototype,J_=W_.hasOwnProperty;function Q_(t){var n=this.__data__;if(Dn){var e=n[t];return e===Z_?void 0:e}return J_.call(n,t)?n[t]:void 0}var tv=Object.prototype,nv=tv.hasOwnProperty;function ev(t){var n=this.__data__;return Dn?n[t]!==void 0:nv.call(n,t)}var rv="__lodash_hash_undefined__";function iv(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Dn&&n===void 0?rv:n,this}function Ut(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Ut.prototype.clear=V_,Ut.prototype.delete=K_,Ut.prototype.get=Q_,Ut.prototype.has=ev,Ut.prototype.set=iv;function av(){this.__data__=[],this.size=0}function Xe(t,n){for(var e=t.length;e--;)if(oi(t[e][0],n))return e;return-1}var ov=Array.prototype,sv=ov.splice;function uv(t){var n=this.__data__,e=Xe(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():sv.call(n,e,1),--this.size,!0}function lv(t){var n=this.__data__,e=Xe(n,t);return e<0?void 0:n[e][1]}function cv(t){return Xe(this.__data__,t)>-1}function fv(t,n){var e=this.__data__,r=Xe(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function wt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}wt.prototype.clear=av,wt.prototype.delete=uv,wt.prototype.get=lv,wt.prototype.has=cv,wt.prototype.set=fv;var qn=yn(mt,"Map");function hv(){this.size=0,this.__data__={hash:new Ut,map:new(qn||wt),string:new Ut}}function pv(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Be(t,n){var e=t.__data__;return pv(n)?e[typeof n=="string"?"string":"hash"]:e.map}function dv(t){var n=Be(this,t).delete(t);return this.size-=n?1:0,n}function gv(t){return Be(this,t).get(t)}function yv(t){return Be(this,t).has(t)}function _v(t,n){var e=Be(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function bt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}bt.prototype.clear=hv,bt.prototype.delete=dv,bt.prototype.get=gv,bt.prototype.has=yv,bt.prototype.set=_v;var vv="Expected a function";function pi(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(vv);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=e.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return e.cache=a.set(i,o)||a,o};return e.cache=new(pi.Cache||bt),e}pi.Cache=bt;var mv=500;function wv(t){var n=pi(t,function(r){return e.size===mv&&e.clear(),r}),e=n.cache;return n}var bv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xv=/\\(\\)?/g,Mv=wv(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(bv,function(e,r,i,a){n.push(i?a.replace(xv,"$1"):r||e)}),n});function Av(t){return t==null?"":Zo(t)}function ls(t,n){return st(t)?t:hi(t,n)?[t]:Mv(Av(t))}function He(t){if(typeof t=="string"||De(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function cs(t,n){n=ls(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[He(n[e++])];return e&&e==r?t:void 0}function $v(t,n,e){var r=t==null?void 0:cs(t,n);return r===void 0?e:r}function fs(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var hs=dt?dt.isConcatSpreadable:void 0;function Pv(t){return st(t)||ui(t)||!!(hs&&t&&t[hs])}function Tv(t,n,e,r,i){var a=-1,o=t.length;for(e||(e=Pv),i||(i=[]);++a<o;){var s=t[a];e(s)?fs(i,s):i[i.length]=s}return i}function Nv(t){var n=t==null?0:t.length;return n?Tv(t):[]}function Sv(){this.__data__=new wt,this.size=0}function kv(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function Ev(t){return this.__data__.get(t)}function Ov(t){return this.__data__.has(t)}var Iv=200;function zv(t,n){var e=this.__data__;if(e instanceof wt){var r=e.__data__;if(!qn||r.length<Iv-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new bt(r)}return e.set(t,n),this.size=e.size,this}function xt(t){var n=this.__data__=new wt(t);this.size=n.size}xt.prototype.clear=Sv,xt.prototype.delete=kv,xt.prototype.get=Ev,xt.prototype.has=Ov,xt.prototype.set=zv;function Cv(t,n){for(var e=-1,r=t==null?0:t.length,i=0,a=[];++e<r;){var o=t[e];n(o,e,t)&&(a[i++]=o)}return a}function jv(){return[]}var Rv=Object.prototype,Lv=Rv.propertyIsEnumerable,ps=Object.getOwnPropertySymbols,Fv=ps?function(t){return t==null?[]:(t=Object(t),Cv(ps(t),function(n){return Lv.call(t,n)}))}:jv;function Dv(t,n,e){var r=n(t);return st(t)?r:fs(r,e(t))}function ds(t){return Dv(t,fi,Fv)}var di=yn(mt,"DataView"),gi=yn(mt,"Promise"),yi=yn(mt,"Set"),gs="[object Map]",qv="[object Object]",ys="[object Promise]",_s="[object Set]",vs="[object WeakMap]",ms="[object DataView]",Xv=Ht(di),Bv=Ht(qn),Hv=Ht(gi),Uv=Ht(yi),Yv=Ht(ii),St=pn;(di&&St(new di(new ArrayBuffer(1)))!=ms||qn&&St(new qn)!=gs||gi&&St(gi.resolve())!=ys||yi&&St(new yi)!=_s||ii&&St(new ii)!=vs)&&(St=function(t){var n=pn(t),e=n==qv?t.constructor:void 0,r=e?Ht(e):"";if(r)switch(r){case Xv:return ms;case Bv:return gs;case Hv:return ys;case Uv:return _s;case Yv:return vs}return n});var ws=mt.Uint8Array,Gv="__lodash_hash_undefined__";function Vv(t){return this.__data__.set(t,Gv),this}function Kv(t){return this.__data__.has(t)}function Ue(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new bt;++n<e;)this.add(t[n])}Ue.prototype.add=Ue.prototype.push=Vv,Ue.prototype.has=Kv;function Zv(t,n){for(var e=-1,r=t==null?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function Wv(t,n){return t.has(n)}var Jv=1,Qv=2;function bs(t,n,e,r,i,a){var o=e&Jv,s=t.length,l=n.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(n);if(u&&c)return u==n&&c==t;var h=-1,f=!0,p=e&Qv?new Ue:void 0;for(a.set(t,n),a.set(n,t);++h<s;){var g=t[h],_=n[h];if(r)var w=o?r(_,g,h,n,t,a):r(g,_,h,t,n,a);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!Zv(n,function(x,d){if(!Wv(p,d)&&(g===x||i(g,x,e,r,a)))return p.push(d)})){f=!1;break}}else if(!(g===_||i(g,_,e,r,a))){f=!1;break}}return a.delete(t),a.delete(n),f}function tm(t){var n=-1,e=Array(t.size);return t.forEach(function(r,i){e[++n]=[i,r]}),e}function nm(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=r}),e}var em=1,rm=2,im="[object Boolean]",am="[object Date]",om="[object Error]",sm="[object Map]",um="[object Number]",lm="[object RegExp]",cm="[object Set]",fm="[object String]",hm="[object Symbol]",pm="[object ArrayBuffer]",dm="[object DataView]",xs=dt?dt.prototype:void 0,_i=xs?xs.valueOf:void 0;function gm(t,n,e,r,i,a,o){switch(e){case dm:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case pm:return!(t.byteLength!=n.byteLength||!a(new ws(t),new ws(n)));case im:case am:case um:return oi(+t,+n);case om:return t.name==n.name&&t.message==n.message;case lm:case fm:return t==n+"";case sm:var s=tm;case cm:var l=r&em;if(s||(s=nm),t.size!=n.size&&!l)return!1;var u=o.get(t);if(u)return u==n;r|=rm,o.set(t,n);var c=bs(s(t),s(n),r,i,a,o);return o.delete(t),c;case hm:if(_i)return _i.call(t)==_i.call(n)}return!1}var ym=1,_m=Object.prototype,vm=_m.hasOwnProperty;function mm(t,n,e,r,i,a){var o=e&ym,s=ds(t),l=s.length,u=ds(n),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=s[h];if(!(o?f in n:vm.call(n,f)))return!1}var p=a.get(t),g=a.get(n);if(p&&g)return p==n&&g==t;var _=!0;a.set(t,n),a.set(n,t);for(var w=o;++h<l;){f=s[h];var x=t[f],d=n[f];if(r)var M=o?r(d,x,f,n,t,a):r(x,d,f,t,n,a);if(!(M===void 0?x===d||i(x,d,e,r,a):M)){_=!1;break}w||(w=f=="constructor")}if(_&&!w){var y=t.constructor,m=n.constructor;y!=m&&"constructor"in t&&"constructor"in n&&!(typeof y=="function"&&y instanceof y&&typeof m=="function"&&m instanceof m)&&(_=!1)}return a.delete(t),a.delete(n),_}var wm=1,Ms="[object Arguments]",As="[object Array]",Ye="[object Object]",bm=Object.prototype,$s=bm.hasOwnProperty;function xm(t,n,e,r,i,a){var o=st(t),s=st(n),l=o?As:St(t),u=s?As:St(n);l=l==Ms?Ye:l,u=u==Ms?Ye:u;var c=l==Ye,h=u==Ye,f=l==u;if(f&&li(t)){if(!li(n))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new xt),o||us(t)?bs(t,n,e,r,i,a):gm(t,n,l,e,r,i,a);if(!(e&wm)){var p=c&&$s.call(t,"__wrapped__"),g=h&&$s.call(n,"__wrapped__");if(p||g){var _=p?t.value():t,w=g?n.value():n;return a||(a=new xt),i(_,w,e,r,a)}}return f?(a||(a=new xt),mm(t,n,e,r,i,a)):!1}function vi(t,n,e,r,i){return t===n?!0:t==null||n==null||!dn(t)&&!dn(n)?t!==t&&n!==n:xm(t,n,e,r,vi,i)}var Mm=1,Am=2;function $m(t,n,e,r){var i=e.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=e[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=e[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new xt,h;if(!(h===void 0?vi(u,l,Mm|Am,r,c):h))return!1}}return!0}function Ps(t){return t===t&&!gn(t)}function Pm(t){for(var n=fi(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Ps(i)]}return n}function Ts(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}function Tm(t){var n=Pm(t);return n.length==1&&n[0][2]?Ts(n[0][0],n[0][1]):function(e){return e===t||$m(e,t,n)}}function Nm(t,n){return t!=null&&n in Object(t)}function Sm(t,n,e){n=ls(n,t);for(var r=-1,i=n.length,a=!1;++r<i;){var o=He(n[r]);if(!(a=t!=null&&e(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&si(i)&&ai(o,i)&&(st(t)||ui(t)))}function km(t,n){return t!=null&&Sm(t,n,Nm)}var Em=1,Om=2;function Im(t,n){return hi(t)&&Ps(n)?Ts(He(t),n):function(e){var r=$v(e,t);return r===void 0&&r===n?km(e,t):vi(n,r,Em|Om)}}function zm(t){return function(n){return n==null?void 0:n[t]}}function Cm(t){return function(n){return cs(n,t)}}function jm(t){return hi(t)?zm(He(t)):Cm(t)}function Rm(t){return typeof t=="function"?t:t==null?Cy:typeof t=="object"?st(t)?Im(t[0],t[1]):Tm(t):jm(t)}function Lm(t){return function(n,e,r){for(var i=-1,a=Object(n),o=r(n),s=o.length;s--;){var l=o[++i];if(e(a[l],l,a)===!1)break}return n}}var Fm=Lm();function Dm(t,n){return t&&Fm(t,n,fi)}function qm(t,n){return function(e,r){if(e==null)return e;if(!qe(e))return t(e,r);for(var i=e.length,a=-1,o=Object(e);++a<i&&r(o[a],a,o)!==!1;);return e}}var Xm=qm(Dm);function Bm(t,n){var e=-1,r=qe(t)?Array(t.length):[];return Xm(t,function(i,a,o){r[++e]=n(i,a,o)}),r}function Ns(t,n){var e=st(t)?Go:Bm;return e(t,Rm(n))}var Hm=Math.ceil,Um=Math.max;function Ym(t,n,e,r){for(var i=-1,a=Um(Hm((n-t)/(e||1)),0),o=Array(a);a--;)o[++i]=t,t+=e;return o}function Gm(t){return function(n,e,r){return r&&typeof r!="number"&&n_(n,e,r)&&(e=r=void 0),n=ei(n),e===void 0?(e=n,n=0):e=ei(e),r=r===void 0?n<e?1:-1:ei(r),Ym(n,e,r)}}var Vm=Gm();const Km=(t,n,e=12,r=12)=>{const i=hn().domain([0,e]).range([0,t]),a=hn().domain([0,r]).range([0,n]);return{points:function(){return Vm((e+1)*(r+1)).map(function(o){return{m:o%(e+1),n:Math.floor(o/(e+1)),x:i(o%(e+1)),y:a(Math.floor(o/(e+1)))}})},position:function(o,s){typeof o=="number"&&(o=[o]),typeof s=="number"&&(s=[s]);const l=Nv(Ns(s,function(u){return Ns(o,function(c){return{x:i(c),y:a(u)}})}));return l.length==1?l[0]:l}}},Zm="_widget_9wct0_49",Wm="_label_9wct0_69",Jm="_lit_9wct0_74",Qm="_button_9wct0_78",t1="_symbol_9wct0_78",n1="_radio_9wct0_79",e1="_radiobutton_9wct0_79",r1="_selected_9wct0_85",i1="_toggle_9wct0_86",a1="_slider_9wct0_95",o1="_track_9wct0_95",s1="_track_overlay_9wct0_100",u1="_handle_9wct0_108",b={widget:Zm,label:Wm,lit:Jm,button:Qm,symbol:t1,radio:n1,radiobutton:e1,selected:r1,toggle:i1,slider:a1,track:o1,track_overlay:s1,handle:u1},Ge=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890",n=t.length;let e="";for(let r=0;r<10;++r)e+=t[Math.floor(Math.random()*n)];return e},mi=(t,n,e)=>{var r,i,a,o;switch(e){case"top":r=0,i=-n/2-5,a="middle",o="bottom";break;case"bottom":r=0,i=n/2+5,a="middle",o="hanging";break;case"left":r=-t/2-5,i=0,a="end",o="middle";break;case"right":r=t/2+5,i=0,a="start",o="middle";break;default:r=0,i=n/2+5,a="middle",o="hanging"}return{x:r,y:i,anchor:a,valign:o}},l1=(t=1)=>{const n=ot();return n.moveTo(t*1,t*0),n.lineTo(t*-.5,t*(Math.sqrt(3)/2)),n.lineTo(t*-.5,t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},c1=(t=1)=>{const n=ot(),e=.7;return n.moveTo(e*t*(1+.75),e*t*0),n.lineTo(e*t*(-.5+.75),e*t*(Math.sqrt(3)/2)),n.lineTo(e*t*(-.5+.75),e*t*(-Math.sqrt(3)/2)),n.closePath(),n.moveTo(e*t*(1-.75),e*t*0),n.lineTo(e*t*(-.5-.75),e*t*(Math.sqrt(3)/2)),n.lineTo(e*t*(-.5-.75),e*t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},f1=(t=1)=>{const n=ot();return n.moveTo(-t*1,t*0),n.lineTo(t*.5,t*(Math.sqrt(3)/2)),n.lineTo(t*.5,t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},h1=(t=1)=>{const n=.3333333333333333,e=.9;var r=ot();return r.moveTo(t*e,t*e),r.lineTo(t*e,t*-.9),r.lineTo(t*(e*n),t*-.9),r.lineTo(t*(e*n),t*e),r.closePath(),r.moveTo(-t*e,t*e),r.lineTo(-t*e,t*-.9),r.lineTo(-t*(e*n),t*-.9),r.lineTo(-t*(e*n),t*e),r.closePath(),r.toString()},p1=(t=1)=>{const n=ot(),e=Math.PI/2.5,r=e/2,i=2*Math.PI-e/2,a=.5,o=.6,s=.6,l=[t*(1-a/2)*Math.cos(i),t*(1-a/2)*Math.sin(i)],u=[t*s*Math.cos(i+Math.PI/2),t*s*Math.sin(i+Math.PI/2)];return n.moveTo(t*Math.cos(i),t*Math.sin(i)),n.arc(0,0,t,i,r,!0),n.lineTo(t*(1-a)*Math.cos(r),t*(1-a)*Math.sin(r)),n.arc(0,0,t*(1-a),r,i,!1),n.lineTo(t*(1-o-a/2)*Math.cos(i),t*(1-o-a/2)*Math.sin(i)),n.lineTo(l[0]+u[0],l[1]+u[1]),n.lineTo(t*(1+o-a/2)*Math.cos(i),t*(1+o-a/2)*Math.sin(i)),n.closePath(),n.toString()},d1=(t=1)=>{const n=ot(),e=Math.PI/10,r=t/2,i=Math.PI-e,a=e,o=-e,s=Math.PI+e;return n.arc(0,0,r,s,o),n.lineTo(t,r*Math.sin(s)),n.lineTo(t,-t),n.lineTo(-t,-t),n.lineTo(-t,r*Math.sin(s)),n.closePath(),n.arc(0,0,r,a,i),n.lineTo(-t,r*Math.sin(i)),n.lineTo(-t,t),n.lineTo(t,t),n.lineTo(t,r*Math.sin(i)),n.closePath(),n.toString()},g1=(t=1)=>{const n=ot(),e=Math.PI/2.5,r=e/2+Math.PI,i=2*Math.PI-e/2+Math.PI,a=.5,o=.6,s=-.6;n.moveTo(t*Math.cos(r),t*Math.sin(r)),n.arc(0,0,t,r,i,!1),n.lineTo(t*(1-a)*Math.cos(i),t*(1-a)*Math.sin(i)),n.arc(0,0,t*(1-a),i,r,!0),n.lineTo(t*(1-o-a/2)*Math.cos(r),t*(1-o-a/2)*Math.sin(r));var l=[t*(1-a/2)*Math.cos(r),t*(1-a/2)*Math.sin(r)],u=[t*s*Math.cos(r+Math.PI/2),t*s*Math.sin(r+Math.PI/2)];return n.lineTo(l[0]+u[0],l[1]+u[1]),n.lineTo(t*(1+o-a/2)*Math.cos(r),t*(1+o-a/2)*Math.sin(r)),n.closePath(),n.toString()},y1=(t=1)=>{var n=ot(),e=.9;return n.moveTo(t*e,t*e),n.lineTo(t*-.9,t*e),n.lineTo(t*-.9,t*-.9),n.lineTo(t*e,t*-.9),n.closePath(),n.toString()},_1=(t=1)=>{const n=ot(),e=0,r=2*Math.PI;return n.moveTo(t*Math.cos(e),t*Math.sin(e)),n.arc(0,0,t,e,r,!0),n.closePath(),n.toString()},wi=t=>{switch(t){case"play":return l1;case"forward":return c1;case"back":return f1;case"pause":return h1;case"reload":return p1;case"capture":return d1;case"rewind":return g1;case"stop":return y1;case"push":return _1}},bi=()=>{const t="button";var n=Ge(),e=50,r=.3,i="round",a={x:0,y:0},o=null,s="bottom",l=null,u=function(f){},c=["play"],h=0;return{type:t,id:function(f){return typeof f>"u"?n:(n=f,this)},size:function(f){return typeof f>"u"?e:(e=f,this)},symbolsize:function(f){return typeof f>"u"?r:(r=f,this)},shape:function(f){return typeof f>"u"?i:(i=f,this)},position:function(f){return typeof f>"u"?a:(a=f,this)},x:function(f){return typeof f>"u"?a.x:(a.x=f,this)},y:function(f){return typeof f>"u"?a.y:(a.y=f,this)},label:function(f){return typeof f>"u"?o:(o=f,this)},labelposition:function(f){return typeof f>"u"?s:(s=f,this)},fontsize:function(f){return typeof f>"u"?l:(l=f,this)},update:function(f){if(typeof f=="function")return u=f,this;u(f)},actions:function(f){return typeof f>"u"?c:(c=f,this)},value:function(f){return typeof f>"u"?h:(h=f,this)},click:function(){h=(h+1)%c.length,u(),F(this.parentNode).select("."+b.symbol).attr("d",wi(c[h])(r*e))},press:function(f){h=(h+1)%c.length,u(),f.select("#button_"+n).select("."+b.symbol).attr("d",wi(c[h])(r*e))}}},v1=()=>{const t="slider",n=Fe(".3f");var e=Ge(),r=100,i=8,a=10,o=!1,s={x:0,y:0},l="top-left",u=4,c=null,h=function(d){},f=function(d){},p=[0,1],g=0,_=null,w=hn().domain(p).range([0,r]).clamp(!0);const x=function(d,M,y=p){const m=d.select("#slider_"+e);w.domain(y),g=M,m.selectAll("."+b.handle).transition().attr("cx",w(M)),o&&m.select("."+b.label).text(_+" = "+n(g)),h(),f()};return{type:t,scale:w,id:function(d){return typeof d>"u"?e:(e=d,this)},label:function(d){return typeof d>"u"?_:(_=d,this)},size:function(d){return typeof d>"u"?r:(r=d,this)},girth:function(d){return typeof d>"u"?i:(i=d,this)},knob:function(d){return typeof d>"u"?a:(a=d,this)},show:function(d){return typeof d>"u"?o:(o=d,this)},position:function(d){return typeof d>"u"?s:(s=d,this)},x:function(d){return typeof d>"u"?s.x:(s.x=d,this)},y:function(d){return typeof d>"u"?s.y:(s.y=d,this)},labelposition:function(d){return typeof d>"u"?l:(l=d,this)},labelpadding:function(d){return typeof d>"u"?u:(u=d,this)},fontsize:function(d){return typeof d>"u"?c:(c=d,this)},update:function(d){if(typeof d=="function")return h=d,this;h(d)},update_end:function(d){if(typeof d=="function")return f=d,this;f(d)},range:function(d){return typeof d>"u"?p:(p=d,this)},value:function(d){return typeof d>"u"?g:(g=d,this)},reset:x,click:x}},m1=()=>{const t="toggle";var n=Ge(),e=10,r={x:0,y:0},i=null,a="top",o=null,s=function(u){},l=0;return{type:t,id:function(u){return typeof u>"u"?n:(n=u,this)},size:function(u){return typeof u>"u"?e:(e=u,this)},position:function(u){return typeof u>"u"?r:(r=u,this)},x:function(u){return typeof u>"u"?r.x:(r.x=u,this)},y:function(u){return typeof u>"u"?r.y:(r.y=u,this)},label:function(u){return typeof u>"u"?i:(i=u,this)},labelposition:function(u){return typeof u>"u"?a:(a=u,this)},fontsize:function(u){return typeof u>"u"?o:(o=u,this)},update:function(u){if(typeof u=="function")return s=u,this;s(u)},value:function(u){return typeof u>"u"?l:(l=u,this)},click:function(){l=!l;const u=F(this.parentNode);u.select("."+b.handle).transition().attr("cx",l?2*e:0),u.classed(b.selected,l),s()},reset:function(u,c){l=c;const h=u.select("#toggle_"+n);h.selectAll("."+b.handle).transition().attr("cx",l?2*e:0),h.classed(b.selected,l),s()}}},w1=()=>{const t="radio";var n=Ge(),e=100,r=20,i=.3,a="round",o="vertical",s={x:0,y:0},l="right",u=null,c=function(p){},h=[],f=0;return{type:t,id:function(p){return typeof p>"u"?n:(n=p,this)},size:function(p){return typeof p>"u"?e:(e=p,this)},buttonsize:function(p){return typeof p>"u"?r:(r=p,this)},buttonpadding:function(p){return typeof p>"u"?i:(i=p,this)},orientation:function(p){return typeof p>"u"?o:(o=p,this)},shape:function(p){return typeof p>"u"?a:(a=p,this)},position:function(p){return typeof p>"u"?s:(s=p,this)},x:function(p){return typeof p>"u"?s.x:(s.x=p,this)},y:function(p){return typeof p>"u"?s.y:(s.y=p,this)},labelposition:function(p){return typeof p>"u"?l:(l=p,this)},fontsize:function(p){return typeof p>"u"?u:(u=p,this)},update:function(p){if(typeof p=="function")return c=p,this;c(p)},choices:function(p){return typeof p>"u"?h:(h=p,this)},value:function(p){return typeof p>"u"?f:(f=p,this)},click:function(p,g){f=g,F(this.parentNode).selectAll("."+b.symbol).classed(b.selected,_=>_==f),c()},reset:function(p,g){f=g,p.select("#radio_"+n).selectAll("."+b.symbol).classed(b.selected,_=>_==f),c()}}},b1=(t,n)=>{const e="button_"+t.id(),r=t.label(),i=t.labelposition(),a=document.createElementNS("http://www.w3.org/2000/svg","g"),o=F(a).attr("class",b.widget+" "+b.button).attr("id",e).attr("transform","translate("+t.x()+","+t.y()+")");var s;if(t.shape()=="rect"?s=o.append("rect").attr("width",t.size()).attr("height",t.size()).attr("transform","translate("+-t.size()/2+","+-t.size()/2+")").attr("rx",5).attr("ry",5):s=o.append("circle").attr("r",t.size()/2),s.attr("class",b.background).on("click",t.click).on("mouseover",function(){F(this).classed(b.lit,!0),F(this.parentNode).select("."+b.symbol).classed(b.lit,!0)}).on("mouseout",function(){F(this).classed(b.lit,!1),F(this.parentNode).select("."+b.symbol).classed(b.lit,!1)}),o.append("path").attr("d",wi(t.actions()[t.value()])(t.symbolsize()*t.size())).attr("class",b.symbol),r){const l=mi(t.size(),t.size(),i);o.append("text").text(r).attr("class",b.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+l.x+","+l.y+")")}return a},Ss=(t,n)=>{const e=ot();return e.moveTo(0,n/2),e.arc(0,0,n/2,Math.PI/2,3*Math.PI/2,!1),e.lineTo(t,-n/2),e.arc(t,0,n/2,3*Math.PI/2,2*Math.PI+Math.PI/2,!1),e.closePath(),e.toString()},x1=(t,n)=>{const e=Fe(".3f"),r="slider_"+t.id();t.labelposition();const i=t.range,a=t.size();t.label();const o=t.scale;var s;const l=document.createElementNS("http://www.w3.org/2000/svg","g");s=F(l).attr("class",b.widget+" "+b.slider).attr("id",r).attr("transform","translate("+t.x()+","+t.y()+")"),o.domain(i()).range([0,a]).clamp(!0);const u=t.knob()>t.girth()?t.knob():t.girth()/2,c=x=>{const d=x&&x.sourceEvent?x.sourceEvent:x;return d?d.clientX!=null?d.clientX:d.touches&&d.touches.length?d.touches[0].clientX:d.changedTouches&&d.changedTouches.length?d.changedTouches[0].clientX:null:null},h=(x,d)=>{const M=c(x);if(M==null)return null;const y=d.getBoundingClientRect(),m=M-y.left,z=d.width&&d.width.baseVal?d.width.baseVal.value:y.width,R=y.width?z/y.width:1;return m*R-u};s.append("path").attr("d",Ss(t.size(),t.girth())).attr("class",b.track),s.append("circle").attr("class",b.handle).attr("r",t.knob()).attr("cx",o(t.value())),s.append("rect").attr("width",t.size()+2*u).attr("height",2*u).attr("transform","translate("+-u+","+-u+")").attr("class",b.track_overlay).on("click",function(x){const d=h(x,this);if(d==null)return;const M=Math.max(0,Math.min(t.size(),d));t.value(o.invert(M)),t.update(),t.update_end(),s.selectAll("."+b.handle).attr("cx",o(t.value())),t.show()&&s.select("."+b.label).text(t.label()+" = "+e(t.value()))}).call(i0().on("drag",function(x){const d=h(x,this);if(d==null)return;const M=Math.max(0,Math.min(t.size(),d));t.value(o.invert(M)),t.update(),s.selectAll("."+b.handle).attr("cx",o(t.value())),t.show()&&s.select("."+b.label).text(t.label()+" = "+e(t.value()))}).on("end",function(x){t.update_end()}));var f,p,g,_="bottom";const w=(typeof t.labelpadding=="function"?t.labelpadding():4)||0;return t.fontsize?p=t.labelposition().match(/bottom/i)!=null?ve([t.girth()/2,t.knob()])+t.fontsize()/2+w:-ve([t.girth()/2,t.knob()])-t.fontsize()/2-w:p=t.labelposition().match(/bottom/i)!=null?ve([t.girth()/2,t.knob()])+7+w:-ve([t.girth()/2,t.knob()])-7-w,f=t.labelposition().match(/right/i)!=null?t.size():t.labelposition().match(/center/i)!=null?t.size()/2:0,g=t.labelposition().match(/right/i)!=null?"end":t.labelposition().match(/center/i)!=null?"middle":"start",_=t.labelposition().match(/bottom/i)!=null?"hanging":"top",s.append("text").text(t.show()?t.label()+" = "+e(t.value()):t.label()).attr("class",b.label).style("text-anchor",g).style("alignment-baseline",_).style("font-size",t.fontsize()).style("opacity",1).attr("transform","translate("+f+","+p+")"),l},M1=(t,n)=>{const e="toggle_"+t.id(),r=t.size(),i=t.label(),a=t.labelposition(),o=document.createElementNS("http://www.w3.org/2000/svg","g"),s=F(o).attr("class",b.widget+" "+b.toggle).attr("id",e).attr("transform","translate("+(t.x()-r)+","+t.y()+")").classed(b.selected,t.value()==1);if(s.append("path").attr("d",Ss(2*t.size(),2*t.size())).attr("class",b.track),s.append("circle").attr("class",b.handle).attr("r",r).attr("cx",t.value()?2*r:0),s.append("rect").attr("width",4*t.size()).attr("height",2*t.size()).attr("class",b.track_overlay).attr("transform","translate("+-t.size()+","+-t.size()+")").on("click",t.click),i){const l=mi(4*t.size(),2*t.size(),a);s.append("text").text(i).attr("class",b.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+(l.x+r)+","+l.y+")")}return o},A1=(t,n)=>{const e="radio_"+t.id(),r=t.labelposition(),i=t.buttonsize(),a=t.buttonsize()*(1-t.buttonpadding()),o=t.choices().length,s=dp(o),l=hn().domain([0,o-1]).range([0,t.size()]),u=hn().domain([0,o-1]).range([0,t.size()]),c=document.createElementNS("http://www.w3.org/2000/svg","g"),h=F(c).attr("class",b.widget+" "+b.radio).attr("id",e).attr("transform","translate("+t.x()+","+t.y()+")").selectAll("."+b.radiobutton).data(s).enter().append("g").attr("class",b.radiobutton).attr("id",_=>"b"+_).attr("transform",_=>t.orientation()=="vertical"?"translate(0,"+u(_)+")":"translate("+l(_)+",0)");var f,p;t.shape()=="rect"?(f=h.append("rect").attr("width",i).attr("height",i).attr("rx",2).attr("ry",2).attr("transform","translate("+-i/2+","+-i/2+")"),p=h.append("rect").attr("width",a).attr("height",a).attr("rx",2).attr("ry",2).attr("transform","translate("+-a/2+","+-a/2+")")):(f=h.append("circle").attr("r",i/2),p=h.append("circle").attr("r",a/2)),f.attr("class",b.background).on("mouseover",function(){F(this).classed(b.lit,!0),F(this.parentNode).select("."+b.symbol).classed(b.lit,!0)}).on("mouseout",function(){F(this).classed(b.lit,!1),F(this.parentNode).select("."+b.symbol).classed(b.lit,!1)}),p.attr("class",b.symbol),p.filter(_=>_==t.value()).classed(b.selected,!0),h.on("click",t.click);const g=mi(t.buttonsize(),t.buttonsize(),r);return h.append("text").attr("class",b.label).text(function(_,w){return t.choices()[w]}).attr("alignment-baseline",g.valign).attr("transform","translate("+g.x+","+g.y+")").style("font-size",t.fontsize()).attr("text-anchor",g.anchor),c},xi=(t,n)=>{switch(t.type){case"button":return b1(t);case"slider":return x1(t);case"radio":return A1(t);case"toggle":return M1(t)}},T={displayPanel:"_displayPanel_cwpad_1",controlPanel:"_controlPanel_cwpad_8",leg:"_leg_cwpad_24",joint:"_joint_cwpad_29",leg_inset:"_leg_inset_cwpad_33",trace:"_trace_cwpad_38",trace_ghost:"_trace_ghost_cwpad_45",trajectory:"_trajectory_cwpad_53",trajectory_ghost:"_trajectory_ghost_cwpad_60"},$1=(t,n)=>{const e=Km(n.controls_size.width,n.controls_size.height,n.controls_grid.nx,n.controls_grid.ny),r=Fc("#"+t).classed(t+" "+n.container_class,!0),i=t+"_display",a=t+"_controls",o=r.append("div").attr("id",i).attr("class",T.displayPanel).classed(n.display_class,!0).classed(n.debug_lattice,n.debug).append(n.display_type).attr("width",n.display_type=="canvas"?n.display_size.width:null).attr("height",n.display_type=="canvas"?n.display_size.height:null).attr("viewBox",n.display_type=="canvas"?null:"0 0 "+n.display_size.width+" "+n.display_size.height).style("width","100%"),s=r.append("div").attr("id",a).attr("class","d3-widgets "+T.controlPanel).classed(n.controls_class,!0).classed(n.debug_lattice,n.debug).append("svg").attr("viewBox","0 0 "+n.controls_size.width+" "+n.controls_size.height).style("width","100%").style("height","100%");return n.debug&&s.selectAll(null).data(e.points).enter().append("circle").attr("r",2).attr("transform",l=>"translate("+l.x+","+l.y+")").style("fill","black"),{display:o,controls:s,grid:e}};var ks=typeof global=="object"&&global&&global.Object===Object&&global,P1=typeof self=="object"&&self&&self.Object===Object&&self,Mt=ks||P1||Function("return this")(),kt=Mt.Symbol,Es=Object.prototype,T1=Es.hasOwnProperty,N1=Es.toString,Xn=kt?kt.toStringTag:void 0;function S1(t){var n=T1.call(t,Xn),e=t[Xn];try{t[Xn]=void 0;var r=!0}catch{}var i=N1.call(t);return r&&(n?t[Xn]=e:delete t[Xn]),i}var k1=Object.prototype,E1=k1.toString;function O1(t){return E1.call(t)}var I1="[object Null]",z1="[object Undefined]",Os=kt?kt.toStringTag:void 0;function Yt(t){return t==null?t===void 0?z1:I1:Os&&Os in Object(t)?S1(t):O1(t)}function Gt(t){return t!=null&&typeof t=="object"}var C1="[object Symbol]";function Ve(t){return typeof t=="symbol"||Gt(t)&&Yt(t)==C1}function Ke(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var ut=Array.isArray,Is=kt?kt.prototype:void 0,zs=Is?Is.toString:void 0;function Cs(t){if(typeof t=="string")return t;if(ut(t))return Ke(t,Cs)+"";if(Ve(t))return zs?zs.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}var j1=/\s/;function R1(t){for(var n=t.length;n--&&j1.test(t.charAt(n)););return n}var L1=/^\s+/;function F1(t){return t&&t.slice(0,R1(t)+1).replace(L1,"")}function At(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var js=NaN,D1=/^[-+]0x[0-9a-f]+$/i,q1=/^0b[01]+$/i,X1=/^0o[0-7]+$/i,B1=parseInt;function H1(t){if(typeof t=="number")return t;if(Ve(t))return js;if(At(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=At(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=F1(t);var e=q1.test(t);return e||X1.test(t)?B1(t.slice(2),e?2:8):D1.test(t)?js:+t}var Rs=1/0,U1=17976931348623157e292;function Ze(t){if(!t)return t===0?t:0;if(t=H1(t),t===Rs||t===-Rs){var n=t<0?-1:1;return n*U1}return t===t?t:0}function Y1(t){var n=Ze(t),e=n%1;return n===n?e?n-e:n:0}function Ls(t){return t}var G1="[object AsyncFunction]",V1="[object Function]",K1="[object GeneratorFunction]",Z1="[object Proxy]";function Fs(t){if(!At(t))return!1;var n=Yt(t);return n==V1||n==K1||n==G1||n==Z1}var Mi=Mt["__core-js_shared__"],Ds=(function(){var t=/[^.]+$/.exec(Mi&&Mi.keys&&Mi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function W1(t){return!!Ds&&Ds in t}var J1=Function.prototype,Q1=J1.toString;function Vt(t){if(t!=null){try{return Q1.call(t)}catch{}try{return t+""}catch{}}return""}var tw=/[\\^$.*+?()[\]{}|]/g,nw=/^\[object .+?Constructor\]$/,ew=Function.prototype,rw=Object.prototype,iw=ew.toString,aw=rw.hasOwnProperty,ow=RegExp("^"+iw.call(aw).replace(tw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sw(t){if(!At(t)||W1(t))return!1;var n=Fs(t)?ow:nw;return n.test(Vt(t))}function uw(t,n){return t==null?void 0:t[n]}function Kt(t,n){var e=uw(t,n);return sw(e)?e:void 0}var Ai=Kt(Mt,"WeakMap"),qs=(function(){try{var t=Kt(Object,"defineProperty");return t({},"",{}),t}catch{}})();function lw(t,n){for(var e=-1,r=t==null?0:t.length;++e<r&&n(t[e],e,t)!==!1;);return t}var cw=9007199254740991,fw=/^(?:0|[1-9]\d*)$/;function We(t,n){var e=typeof t;return n=n??cw,!!n&&(e=="number"||e!="symbol"&&fw.test(t))&&t>-1&&t%1==0&&t<n}function hw(t,n,e){n=="__proto__"&&qs?qs(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Je(t,n){return t===n||t!==t&&n!==n}var pw=Object.prototype,dw=pw.hasOwnProperty;function gw(t,n,e){var r=t[n];(!(dw.call(t,n)&&Je(r,e))||e===void 0&&!(n in t))&&hw(t,n,e)}var yw=9007199254740991;function $i(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yw}function Bn(t){return t!=null&&$i(t.length)&&!Fs(t)}function _w(t,n,e){if(!At(e))return!1;var r=typeof n;return(r=="number"?Bn(e)&&We(n,e.length):r=="string"&&n in e)?Je(e[n],t):!1}var vw=Object.prototype;function Xs(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||vw;return t===e}function mw(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var ww="[object Arguments]";function Bs(t){return Gt(t)&&Yt(t)==ww}var Hs=Object.prototype,bw=Hs.hasOwnProperty,xw=Hs.propertyIsEnumerable,Us=Bs((function(){return arguments})())?Bs:function(t){return Gt(t)&&bw.call(t,"callee")&&!xw.call(t,"callee")};function Mw(){return!1}var Ys=typeof k=="object"&&k&&!k.nodeType&&k,Gs=Ys&&typeof module=="object"&&module&&!module.nodeType&&module,Aw=Gs&&Gs.exports===Ys,Vs=Aw?Mt.Buffer:void 0,$w=Vs?Vs.isBuffer:void 0,Pi=$w||Mw,Pw="[object Arguments]",Tw="[object Array]",Nw="[object Boolean]",Sw="[object Date]",kw="[object Error]",Ew="[object Function]",Ow="[object Map]",Iw="[object Number]",zw="[object Object]",Cw="[object RegExp]",jw="[object Set]",Rw="[object String]",Lw="[object WeakMap]",Fw="[object ArrayBuffer]",Dw="[object DataView]",qw="[object Float32Array]",Xw="[object Float64Array]",Bw="[object Int8Array]",Hw="[object Int16Array]",Uw="[object Int32Array]",Yw="[object Uint8Array]",Gw="[object Uint8ClampedArray]",Vw="[object Uint16Array]",Kw="[object Uint32Array]",O={};O[qw]=O[Xw]=O[Bw]=O[Hw]=O[Uw]=O[Yw]=O[Gw]=O[Vw]=O[Kw]=!0,O[Pw]=O[Tw]=O[Fw]=O[Nw]=O[Dw]=O[Sw]=O[kw]=O[Ew]=O[Ow]=O[Iw]=O[zw]=O[Cw]=O[jw]=O[Rw]=O[Lw]=!1;function Zw(t){return Gt(t)&&$i(t.length)&&!!O[Yt(t)]}function Ww(t){return function(n){return t(n)}}var Ks=typeof k=="object"&&k&&!k.nodeType&&k,Hn=Ks&&typeof module=="object"&&module&&!module.nodeType&&module,Jw=Hn&&Hn.exports===Ks,Ti=Jw&&ks.process,Zs=(function(){try{var t=Hn&&Hn.require&&Hn.require("util").types;return t||Ti&&Ti.binding&&Ti.binding("util")}catch{}})(),Ws=Zs&&Zs.isTypedArray,Js=Ws?Ww(Ws):Zw,Qw=Object.prototype,tb=Qw.hasOwnProperty;function Qs(t,n){var e=ut(t),r=!e&&Us(t),i=!e&&!r&&Pi(t),a=!e&&!r&&!i&&Js(t),o=e||r||i||a,s=o?mw(t.length,String):[],l=s.length;for(var u in t)(n||tb.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||We(u,l)))&&s.push(u);return s}function tu(t,n){return function(e){return t(n(e))}}var nb=tu(Object.keys,Object),eb=Object.prototype,rb=eb.hasOwnProperty;function ib(t){if(!Xs(t))return nb(t);var n=[];for(var e in Object(t))rb.call(t,e)&&e!="constructor"&&n.push(e);return n}function Qe(t){return Bn(t)?Qs(t):ib(t)}function ab(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var ob=Object.prototype,sb=ob.hasOwnProperty;function ub(t){if(!At(t))return ab(t);var n=Xs(t),e=[];for(var r in t)r=="constructor"&&(n||!sb.call(t,r))||e.push(r);return e}function lb(t){return Bn(t)?Qs(t,!0):ub(t)}var cb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fb=/^\w*$/;function Ni(t,n){if(ut(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Ve(t)?!0:fb.test(t)||!cb.test(t)||n!=null&&t in Object(n)}var Un=Kt(Object,"create");function hb(){this.__data__=Un?Un(null):{},this.size=0}function pb(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var db="__lodash_hash_undefined__",gb=Object.prototype,yb=gb.hasOwnProperty;function _b(t){var n=this.__data__;if(Un){var e=n[t];return e===db?void 0:e}return yb.call(n,t)?n[t]:void 0}var vb=Object.prototype,mb=vb.hasOwnProperty;function wb(t){var n=this.__data__;return Un?n[t]!==void 0:mb.call(n,t)}var bb="__lodash_hash_undefined__";function xb(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Un&&n===void 0?bb:n,this}function Zt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Zt.prototype.clear=hb,Zt.prototype.delete=pb,Zt.prototype.get=_b,Zt.prototype.has=wb,Zt.prototype.set=xb;function Mb(){this.__data__=[],this.size=0}function tr(t,n){for(var e=t.length;e--;)if(Je(t[e][0],n))return e;return-1}var Ab=Array.prototype,$b=Ab.splice;function Pb(t){var n=this.__data__,e=tr(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():$b.call(n,e,1),--this.size,!0}function Tb(t){var n=this.__data__,e=tr(n,t);return e<0?void 0:n[e][1]}function Nb(t){return tr(this.__data__,t)>-1}function Sb(t,n){var e=this.__data__,r=tr(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function $t(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}$t.prototype.clear=Mb,$t.prototype.delete=Pb,$t.prototype.get=Tb,$t.prototype.has=Nb,$t.prototype.set=Sb;var Yn=Kt(Mt,"Map");function kb(){this.size=0,this.__data__={hash:new Zt,map:new(Yn||$t),string:new Zt}}function Eb(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function nr(t,n){var e=t.__data__;return Eb(n)?e[typeof n=="string"?"string":"hash"]:e.map}function Ob(t){var n=nr(this,t).delete(t);return this.size-=n?1:0,n}function Ib(t){return nr(this,t).get(t)}function zb(t){return nr(this,t).has(t)}function Cb(t,n){var e=nr(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function Pt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Pt.prototype.clear=kb,Pt.prototype.delete=Ob,Pt.prototype.get=Ib,Pt.prototype.has=zb,Pt.prototype.set=Cb;var jb="Expected a function";function Si(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(jb);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=e.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return e.cache=a.set(i,o)||a,o};return e.cache=new(Si.Cache||Pt),e}Si.Cache=Pt;var Rb=500;function Lb(t){var n=Si(t,function(r){return e.size===Rb&&e.clear(),r}),e=n.cache;return n}var Fb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Db=/\\(\\)?/g,qb=Lb(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(Fb,function(e,r,i,a){n.push(i?a.replace(Db,"$1"):r||e)}),n});function er(t){return t==null?"":Cs(t)}function rr(t,n){return ut(t)?t:Ni(t,n)?[t]:qb(er(t))}function Gn(t){if(typeof t=="string"||Ve(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function ki(t,n){n=rr(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[Gn(n[e++])];return e&&e==r?t:void 0}function Xb(t,n,e){var r=t==null?void 0:ki(t,n);return r===void 0?e:r}function nu(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var Bb=tu(Object.getPrototypeOf,Object);function eu(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),e=e>i?i:e,e<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+n];return a}function Hb(t,n,e){var r=t.length;return e=e===void 0?r:e,!n&&e>=r?t:eu(t,n,e)}var Ub="\\ud800-\\udfff",Yb="\\u0300-\\u036f",Gb="\\ufe20-\\ufe2f",Vb="\\u20d0-\\u20ff",Kb=Yb+Gb+Vb,Zb="\\ufe0e\\ufe0f",Wb="\\u200d",Jb=RegExp("["+Wb+Ub+Kb+Zb+"]");function ru(t){return Jb.test(t)}function Qb(t){return t.split("")}var iu="\\ud800-\\udfff",tx="\\u0300-\\u036f",nx="\\ufe20-\\ufe2f",ex="\\u20d0-\\u20ff",rx=tx+nx+ex,ix="\\ufe0e\\ufe0f",ax="["+iu+"]",Ei="["+rx+"]",Oi="\\ud83c[\\udffb-\\udfff]",ox="(?:"+Ei+"|"+Oi+")",au="[^"+iu+"]",ou="(?:\\ud83c[\\udde6-\\uddff]){2}",su="[\\ud800-\\udbff][\\udc00-\\udfff]",sx="\\u200d",uu=ox+"?",lu="["+ix+"]?",ux="(?:"+sx+"(?:"+[au,ou,su].join("|")+")"+lu+uu+")*",lx=lu+uu+ux,cx="(?:"+[au+Ei+"?",Ei,ou,su,ax].join("|")+")",fx=RegExp(Oi+"(?="+Oi+")|"+cx+lx,"g");function hx(t){return t.match(fx)||[]}function px(t){return ru(t)?hx(t):Qb(t)}function dx(t){return function(n){n=er(n);var e=ru(n)?px(n):void 0,r=e?e[0]:n.charAt(0),i=e?Hb(e,1).join(""):n.slice(1);return r[t]()+i}}var gx=dx("toUpperCase");function yx(t){return gx(er(t).toLowerCase())}function _x(){this.__data__=new $t,this.size=0}function vx(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function mx(t){return this.__data__.get(t)}function wx(t){return this.__data__.has(t)}var bx=200;function xx(t,n){var e=this.__data__;if(e instanceof $t){var r=e.__data__;if(!Yn||r.length<bx-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Pt(r)}return e.set(t,n),this.size=e.size,this}function Tt(t){var n=this.__data__=new $t(t);this.size=n.size}Tt.prototype.clear=_x,Tt.prototype.delete=vx,Tt.prototype.get=mx,Tt.prototype.has=wx,Tt.prototype.set=xx;function Mx(t,n){for(var e=-1,r=t==null?0:t.length,i=0,a=[];++e<r;){var o=t[e];n(o,e,t)&&(a[i++]=o)}return a}function cu(){return[]}var Ax=Object.prototype,$x=Ax.propertyIsEnumerable,fu=Object.getOwnPropertySymbols,hu=fu?function(t){return t==null?[]:(t=Object(t),Mx(fu(t),function(n){return $x.call(t,n)}))}:cu,Px=Object.getOwnPropertySymbols,Tx=Px?function(t){for(var n=[];t;)nu(n,hu(t)),t=Bb(t);return n}:cu;function pu(t,n,e){var r=n(t);return ut(t)?r:nu(r,e(t))}function du(t){return pu(t,Qe,hu)}function Nx(t){return pu(t,lb,Tx)}var Ii=Kt(Mt,"DataView"),zi=Kt(Mt,"Promise"),Ci=Kt(Mt,"Set"),gu="[object Map]",Sx="[object Object]",yu="[object Promise]",_u="[object Set]",vu="[object WeakMap]",mu="[object DataView]",kx=Vt(Ii),Ex=Vt(Yn),Ox=Vt(zi),Ix=Vt(Ci),zx=Vt(Ai),Nt=Yt;(Ii&&Nt(new Ii(new ArrayBuffer(1)))!=mu||Yn&&Nt(new Yn)!=gu||zi&&Nt(zi.resolve())!=yu||Ci&&Nt(new Ci)!=_u||Ai&&Nt(new Ai)!=vu)&&(Nt=function(t){var n=Yt(t),e=n==Sx?t.constructor:void 0,r=e?Vt(e):"";if(r)switch(r){case kx:return mu;case Ex:return gu;case Ox:return yu;case Ix:return _u;case zx:return vu}return n});var wu=Mt.Uint8Array,Cx="__lodash_hash_undefined__";function jx(t){return this.__data__.set(t,Cx),this}function Rx(t){return this.__data__.has(t)}function ir(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new Pt;++n<e;)this.add(t[n])}ir.prototype.add=ir.prototype.push=jx,ir.prototype.has=Rx;function Lx(t,n){for(var e=-1,r=t==null?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function Fx(t,n){return t.has(n)}var Dx=1,qx=2;function bu(t,n,e,r,i,a){var o=e&Dx,s=t.length,l=n.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(n);if(u&&c)return u==n&&c==t;var h=-1,f=!0,p=e&qx?new ir:void 0;for(a.set(t,n),a.set(n,t);++h<s;){var g=t[h],_=n[h];if(r)var w=o?r(_,g,h,n,t,a):r(g,_,h,t,n,a);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!Lx(n,function(x,d){if(!Fx(p,d)&&(g===x||i(g,x,e,r,a)))return p.push(d)})){f=!1;break}}else if(!(g===_||i(g,_,e,r,a))){f=!1;break}}return a.delete(t),a.delete(n),f}function xu(t){var n=-1,e=Array(t.size);return t.forEach(function(r,i){e[++n]=[i,r]}),e}function Xx(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=r}),e}var Bx=1,Hx=2,Ux="[object Boolean]",Yx="[object Date]",Gx="[object Error]",Vx="[object Map]",Kx="[object Number]",Zx="[object RegExp]",Wx="[object Set]",Jx="[object String]",Qx="[object Symbol]",t2="[object ArrayBuffer]",n2="[object DataView]",Mu=kt?kt.prototype:void 0,ji=Mu?Mu.valueOf:void 0;function e2(t,n,e,r,i,a,o){switch(e){case n2:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case t2:return!(t.byteLength!=n.byteLength||!a(new wu(t),new wu(n)));case Ux:case Yx:case Kx:return Je(+t,+n);case Gx:return t.name==n.name&&t.message==n.message;case Zx:case Jx:return t==n+"";case Vx:var s=xu;case Wx:var l=r&Bx;if(s||(s=Xx),t.size!=n.size&&!l)return!1;var u=o.get(t);if(u)return u==n;r|=Hx,o.set(t,n);var c=bu(s(t),s(n),r,i,a,o);return o.delete(t),c;case Qx:if(ji)return ji.call(t)==ji.call(n)}return!1}var r2=1,i2=Object.prototype,a2=i2.hasOwnProperty;function o2(t,n,e,r,i,a){var o=e&r2,s=du(t),l=s.length,u=du(n),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=s[h];if(!(o?f in n:a2.call(n,f)))return!1}var p=a.get(t),g=a.get(n);if(p&&g)return p==n&&g==t;var _=!0;a.set(t,n),a.set(n,t);for(var w=o;++h<l;){f=s[h];var x=t[f],d=n[f];if(r)var M=o?r(d,x,f,n,t,a):r(x,d,f,t,n,a);if(!(M===void 0?x===d||i(x,d,e,r,a):M)){_=!1;break}w||(w=f=="constructor")}if(_&&!w){var y=t.constructor,m=n.constructor;y!=m&&"constructor"in t&&"constructor"in n&&!(typeof y=="function"&&y instanceof y&&typeof m=="function"&&m instanceof m)&&(_=!1)}return a.delete(t),a.delete(n),_}var s2=1,Au="[object Arguments]",$u="[object Array]",ar="[object Object]",u2=Object.prototype,Pu=u2.hasOwnProperty;function l2(t,n,e,r,i,a){var o=ut(t),s=ut(n),l=o?$u:Nt(t),u=s?$u:Nt(n);l=l==Au?ar:l,u=u==Au?ar:u;var c=l==ar,h=u==ar,f=l==u;if(f&&Pi(t)){if(!Pi(n))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Tt),o||Js(t)?bu(t,n,e,r,i,a):e2(t,n,l,e,r,i,a);if(!(e&s2)){var p=c&&Pu.call(t,"__wrapped__"),g=h&&Pu.call(n,"__wrapped__");if(p||g){var _=p?t.value():t,w=g?n.value():n;return a||(a=new Tt),i(_,w,e,r,a)}}return f?(a||(a=new Tt),o2(t,n,e,r,i,a)):!1}function Ri(t,n,e,r,i){return t===n?!0:t==null||n==null||!Gt(t)&&!Gt(n)?t!==t&&n!==n:l2(t,n,e,r,Ri,i)}var c2=1,f2=2;function h2(t,n,e,r){var i=e.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=e[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=e[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new Tt,h;if(!(h===void 0?Ri(u,l,c2|f2,r,c):h))return!1}}return!0}function Tu(t){return t===t&&!At(t)}function p2(t){for(var n=Qe(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Tu(i)]}return n}function Nu(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}function d2(t){var n=p2(t);return n.length==1&&n[0][2]?Nu(n[0][0],n[0][1]):function(e){return e===t||h2(e,t,n)}}function g2(t,n){return t!=null&&n in Object(t)}function Su(t,n,e){n=rr(n,t);for(var r=-1,i=n.length,a=!1;++r<i;){var o=Gn(n[r]);if(!(a=t!=null&&e(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&$i(i)&&We(o,i)&&(ut(t)||Us(t)))}function y2(t,n){return t!=null&&Su(t,n,g2)}var _2=1,v2=2;function m2(t,n){return Ni(t)&&Tu(n)?Nu(Gn(t),n):function(e){var r=Xb(e,t);return r===void 0&&r===n?y2(e,t):Ri(n,r,_2|v2)}}function w2(t){return function(n){return n==null?void 0:n[t]}}function b2(t){return function(n){return ki(n,t)}}function x2(t){return Ni(t)?w2(Gn(t)):b2(t)}function ku(t){return typeof t=="function"?t:t==null?Ls:typeof t=="object"?ut(t)?m2(t[0],t[1]):d2(t):x2(t)}function M2(t){return function(n,e,r){for(var i=-1,a=Object(n),o=r(n),s=o.length;s--;){var l=o[++i];if(e(a[l],l,a)===!1)break}return n}}var A2=M2();function $2(t,n){return t&&A2(t,n,Qe)}function P2(t,n){return function(e,r){if(e==null)return e;if(!Bn(e))return t(e,r);for(var i=e.length,a=-1,o=Object(e);++a<i&&r(o[a],a,o)!==!1;);return e}}var Eu=P2($2);function T2(t){return typeof t=="function"?t:Ls}function or(t,n){var e=ut(t)?lw:Eu;return e(t,T2(n))}function N2(t,n){return Ke(n,function(e){return[e,t[e]]})}function S2(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=[r,r]}),e}var k2="[object Map]",E2="[object Set]";function O2(t){return function(n){var e=Nt(n);return e==k2?xu(n):e==E2?S2(n):N2(n,t(n))}}var Ou=O2(Qe);function I2(t,n){var e=-1,r=Bn(t)?Array(t.length):[];return Eu(t,function(i,a,o){r[++e]=n(i,a,o)}),r}function Vn(t,n){var e=ut(t)?Ke:I2;return e(t,ku(n))}var z2=Object.prototype,C2=z2.hasOwnProperty;function j2(t,n){return t!=null&&C2.call(t,n)}function Iu(t,n){return t!=null&&Su(t,n,j2)}var R2="[object Boolean]";function L2(t){return t===!0||t===!1||Gt(t)&&Yt(t)==R2}function F2(t,n,e,r){if(!At(t))return t;n=rr(n,t);for(var i=-1,a=n.length,o=a-1,s=t;s!=null&&++i<a;){var l=Gn(n[i]),u=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=void 0,u===void 0&&(u=At(c)?c:We(n[i+1])?[]:{})}gw(s,l,u),s=s[l]}return t}function D2(t,n,e){for(var r=-1,i=n.length,a={};++r<i;){var o=n[r],s=ki(t,o);e(s,o)&&F2(a,rr(o,t),s)}return a}function Li(t,n){if(t==null)return{};var e=Ke(Nx(t),function(r){return[r]});return n=ku(n),D2(t,e,function(r,i){return n(r,i[0])})}var q2=Math.ceil,X2=Math.max;function B2(t,n,e,r){for(var i=-1,a=X2(q2((n-t)/(e||1)),0),o=Array(a);a--;)o[++i]=t,t+=e;return o}function H2(t){return function(n,e,r){return r&&typeof r!="number"&&_w(n,e,r)&&(e=r=void 0),n=Ze(n),e===void 0?(e=n,n=0):e=Ze(e),r=r===void 0?n<e?1:-1:Ze(r),B2(n,e,r)}}var zu=H2();function U2(){var t=arguments,n=er(t[0]);return t.length<3?n:n.replace(t[1],t[2])}function Cu(t,n,e){var r=t==null?0:t.length;return r?(n=n===void 0?1:Y1(n),n=r-n,eu(t,n<0?0:n,r)):[]}const S={widgets:{slider_size:400,slider_gap:2,slider_girth:10,slider_knob:14,slider_anchor:{x:1,y:9},toggle_anchor:{x:7,y:1.25},toggle_label_pos:"right",toggle_gap:1.25,playbutton_size:140,playbutton_anchor:{x:3,y:2.5},backbutton_anchor:{x:4,y:5.5},resetbutton_anchor:{x:2,y:5.5}},simulation:{delay:10,pendulum_thickness:9,pendulum_border:2}},A={dt:.0125,L:.95,M:.1,g:9.81,epsilon:.001,trace_length:100,trajectory_length:5e3,angle_1:{range:[-Math.PI+.002,Math.PI-.002],default:3*Math.PI/4},angle_2:{range:[-Math.PI,Math.PI],default:3*Math.PI/4},show_trace:{default:!1},ghost:{default:!1},show_entire_trajectory:{default:!1},hide_pendulum:{default:!1},gravity:{default:!0}},Fi=t=>Vn(Ou(t),n=>{n[1].id=n[0],n[1].label=n[1].label||U2(yx(n[0]),/_/g," ")}),Di=t=>Vn(Ou(t),n=>n[1]),qi=(t,n)=>or(t,(e,r)=>e.widget=n[r]),Y2=t=>Li(t,n=>Iu(n,"range")),G2=t=>Li(t,n=>L2(n.default)),V2=t=>Li(t,n=>Iu(n,"choices"));Pn().domain([0,360]).range([0,2*Math.PI]),Pn().range([0,360]).domain([0,2*Math.PI]);const ju=(t,n,e)=>{var r=n(t),i=n(t.map(function(s,l){return s+e/2*r[l]})),a=n(t.map(function(s,l){return s+e/2*i[l]})),o=n(t.map(function(s,l){return s+e*a[l]}));return r.map(function(s,l){return e/6*(s+2*i[l]+2*a[l]+o[l])})},Xi=Y2(A),Bi=G2(A),Ru=V2(A);Fi(Xi),Fi(Bi),Fi(Ru);const Lu=Di(Xi),Fu=Di(Bi),Du=Di(Ru),sr=Vn(Lu,t=>v1().id(t.id).label(t.label).range(t.range).value(t.default).size(S.widgets.slider_size).girth(S.widgets.slider_girth).knob(S.widgets.slider_knob)),ur=Vn(Fu,t=>m1().id(t.id).label(t.label).value(t.default)),K2=Vn(Du,t=>w1().choices(t.choices).id(t.id).value(t.default).orientation(S.widgets.radio_orientation).labelposition(S.widgets.radio_label_position));qi(Fu,ur),qi(Lu,sr),qi(Du,K2);const Et=bi().actions(["play","pause"]),lr=bi().actions(["back"]),cr=bi().actions(["rewind"]),Z2=[Et,lr,cr],W2=(t,n)=>{const e=n.position(S.widgets.slider_anchor.x,zu(sr.length).map(i=>S.widgets.slider_anchor.y+S.widgets.slider_gap*i)),r=n.position(S.widgets.toggle_anchor.x,zu(ur.length).map(i=>S.widgets.toggle_anchor.y+S.widgets.toggle_gap*i));sr.forEach((i,a)=>i.position(e[a])),ur.forEach((i,a)=>i.position(r[a]).labelposition(S.widgets.toggle_label_pos)),Et.position(n.position(S.widgets.playbutton_anchor.x,S.widgets.playbutton_anchor.y)).size(S.widgets.playbutton_size),cr.position(n.position(S.widgets.backbutton_anchor.x,S.widgets.backbutton_anchor.y)),lr.position(n.position(S.widgets.resetbutton_anchor.x,S.widgets.resetbutton_anchor.y)),t.selectAll(null).data(sr).enter().append(xi),t.selectAll(null).data(ur).enter().append(xi),t.selectAll(null).data(Z2).enter().append(xi)},J2=t=>{or(Xi,n=>n.widget.reset(t,n.default)),or(Bi,n=>n.widget.reset(t,n.default)),or(void 0,n=>n.widget.reset(t,n.default))},I=A.L,qu=A.dt;A.M,A.g;var $=[],P=[];const Xu=((t,n)=>function(e){let r=Math.cos(e[0]-e[1]),i=A.gravity.widget.value()?A.g:0,a=[];return a[0]=(e[2]-r*e[3])/(2-r*r),a[1]=(2*e[3]-r*e[2])/(2-r*r),a[2]=-a[0]*a[1]*Math.sin(e[0]-e[1])-2*i/t*Math.sin(e[0]),a[3]=a[0]*a[1]*Math.sin(e[0]-e[1])-i/t*Math.sin(e[1]),a})(I),Q2=()=>{A.timer={},A.T=0,$.state=[A.angle_1.widget.value(),A.angle_2.widget.value(),0,0],P.state=[A.angle_1.widget.value(),A.angle_2.widget.value()+A.epsilon,0,0],$.hist=[],P.hist=[],$.hist.push({x:I*Math.cos($.state[0]-Math.PI/2)+I*Math.cos($.state[1]-Math.PI/2),y:I*Math.sin($.state[0]-Math.PI/2)+I*Math.sin($.state[1]-Math.PI/2)}),P.hist.push({x:I*Math.cos(P.state[0]-Math.PI/2)+I*Math.cos(P.state[1]-Math.PI/2),y:I*Math.sin(P.state[0]-Math.PI/2)+I*Math.sin(P.state[1]-Math.PI/2)})},tM=()=>{A.T++;let t=ju($.state,Xu,qu),n=ju(P.state,Xu,qu);for(let e=0;e<4;e++)$.state[e]+=t[e],P.state[e]+=n[e];$.hist.length>A.trajectory_length&&$.hist.shift(),P.hist.length>A.trajectory_length&&P.hist.shift(),$.hist.push({x:I*Math.cos($.state[0]-Math.PI/2)+I*Math.cos($.state[1]-Math.PI/2),y:I*Math.sin($.state[0]-Math.PI/2)+I*Math.sin($.state[1]-Math.PI/2)}),P.hist.push({x:I*Math.cos(P.state[0]-Math.PI/2)+I*Math.cos(P.state[1]-Math.PI/2),y:I*Math.sin(P.state[0]-Math.PI/2)+I*Math.sin(P.state[1]-Math.PI/2)})},nM=()=>{$.state=[A.angle_1.widget.value(),A.angle_2.widget.value(),0,0],P.state=[A.angle_1.widget.value(),A.angle_2.widget.value()+A.epsilon,0,0],$.hist=[],P.hist=[],$.hist.push({x:I*Math.cos($.state[0]-Math.PI/2)+I*Math.cos($.state[1]-Math.PI/2),y:I*Math.sin($.state[0]-Math.PI/2)+I*Math.sin($.state[1]-Math.PI/2)}),P.hist.push({x:I*Math.cos(P.state[0]-Math.PI/2)+I*Math.cos(P.state[1]-Math.PI/2),y:I*Math.sin(P.state[0]-Math.PI/2)+I*Math.sin(P.state[1]-Math.PI/2)})},Ot=A.L,C=Pn().domain([-2,2]),j=Pn().domain([2,-2]),It=rp().x(t=>C(t.x)).y(t=>j(t.y));var G,V;const Z=(t,n)=>[{x1:0,y1:0,x2:Ot*Math.cos(t-Math.PI/2),y2:Ot*Math.sin(t-Math.PI/2)},{x1:Ot*Math.cos(t-Math.PI/2),y1:Ot*Math.sin(t-Math.PI/2),x2:Ot*Math.cos(t-Math.PI/2)+Ot*Math.cos(n-Math.PI/2),y2:Ot*Math.sin(t-Math.PI/2)+Ot*Math.sin(n-Math.PI/2)}],eM=(t,n)=>{const e=n.display_size.width,r=n.display_size.height;C.range([0,e]),j.range([0,r]),t.selectAll("#origin").remove();const i=t.append("g").attr("id","origin");V=i.append("g").attr("id","ghost").style("opacity",A.ghost.widget.value()?.3:0),G=i.append("g").attr("id","pendulum"),G.append("path").attr("class",T.trajectory).attr("d",It($.hist)).style("opacity",A.show_entire_trajectory.widget.value()?null:0),G.append("path").attr("class",T.trace).attr("d",It($.hist)).style("opacity",A.show_trace.widget.value()?null:0),V.append("path").attr("class",T.trajectory_ghost).attr("d",It(P.hist)).style("opacity",A.show_entire_trajectory.widget.value()?null:0),V.append("path").attr("class",T.trace_ghost).attr("d",It(P.hist)).style("opacity",A.show_trace.widget.value()?null:0),V.selectAll("."+T.leg).data(Z(P.state[0],P.state[1])).enter().append("line").attr("class",T.leg).attr("id",function(a,o){return"leg"+2*o}).attr("x1",function(a){return C(a.x1)}).attr("y1",function(a){return j(a.y1)}).attr("x2",function(a){return C(a.x2)}).attr("y2",function(a){return j(a.y2)}).style("stroke-width",S.simulation.pendulum_thickness+2*S.simulation.pendulum_border),V.selectAll("."+T.leg_inset).data(Z(P.state[0],P.state[1])).enter().append("line").attr("class",T.leg_inset).attr("id",function(a,o){return"leg"+(2*o+1)}).attr("x1",function(a){return C(a.x1)}).attr("y1",function(a){return j(a.y1)}).attr("x2",function(a){return C(a.x2)}).attr("y2",function(a){return j(a.y2)}).style("stroke-width",S.simulation.pendulum_thickness),V.select("#leg2").raise(),V.select("#leg3").raise(),V.selectAll("."+T.joint).data(Z(P.state[0],P.state[1])).enter().append("circle").attr("class",T.joint).attr("r",2).attr("cx",function(a){return C(a.x1)}).attr("cy",function(a){return j(a.y1)}).style("stroke","black").style("fill","black"),G.selectAll("."+T.leg).data(Z($.state[0],$.state[1])).enter().append("line").attr("class",T.leg).attr("id",function(a,o){return"leg"+2*o}).attr("x1",function(a){return C(a.x1)}).attr("y1",function(a){return j(a.y1)}).attr("x2",function(a){return C(a.x2)}).attr("y2",function(a){return j(a.y2)}).style("stroke-width",S.simulation.pendulum_thickness+2*S.simulation.pendulum_border),G.selectAll("."+T.leg_inset).data(Z($.state[0],$.state[1])).enter().append("line").attr("class",T.leg_inset).attr("id",function(a,o){return"leg"+(2*o+1)}).attr("x1",function(a){return C(a.x1)}).attr("y1",function(a){return j(a.y1)}).attr("x2",function(a){return C(a.x2)}).attr("y2",function(a){return j(a.y2)}).style("stroke-width",S.simulation.pendulum_thickness),G.select("#leg2").raise(),G.select("#leg3").raise(),G.selectAll("."+T.joint).data(Z($.state[0],$.state[1])).enter().append("circle").attr("class",T.joint).attr("r",2).attr("cx",function(a){return C(a.x1)}).attr("cy",function(a){return j(a.y1)}).style("stroke","black").style("fill","black"),i.selectAll("."+T.leg).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null),i.selectAll("."+T.leg_inset).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null),i.selectAll("."+T.joint).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null)},Bu=(t,n)=>{V.selectAll("."+T.leg).data(Z(P.state[0],P.state[1])).attr("id",function(e,r){return"leg"+2*r}).attr("x1",function(e){return C(e.x1)}).attr("y1",function(e){return j(e.y1)}).attr("x2",function(e){return C(e.x2)}).attr("y2",function(e){return j(e.y2)}),V.selectAll("."+T.leg_inset).data(Z(P.state[0],P.state[1])).attr("id",function(e,r){return"leg"+(2*r+1)}).attr("x1",function(e){return C(e.x1)}).attr("y1",function(e){return j(e.y1)}).attr("x2",function(e){return C(e.x2)}).attr("y2",function(e){return j(e.y2)}),G.selectAll("."+T.leg).data(Z($.state[0],$.state[1])).attr("x1",function(e){return C(e.x1)}).attr("y1",function(e){return j(e.y1)}).attr("x2",function(e){return C(e.x2)}).attr("y2",function(e){return j(e.y2)}),G.selectAll("."+T.leg_inset).data(Z($.state[0],$.state[1])).attr("x1",function(e){return C(e.x1)}).attr("y1",function(e){return j(e.y1)}).attr("x2",function(e){return C(e.x2)}).attr("y2",function(e){return j(e.y2)}),V.selectAll("."+T.joint).data(Z(P.state[0],P.state[1])).attr("cx",function(e){return C(e.x1)}).attr("cy",function(e){return j(e.y1)}),G.selectAll("."+T.joint).data(Z($.state[0],$.state[1])).attr("cx",function(e){return C(e.x1)}).attr("cy",function(e){return j(e.y1)}),G.select("."+T.trace).attr("d",It(Cu($.hist,A.trace_length))),G.select("."+T.trajectory).attr("d",It($.hist)),V.select("."+T.trace_ghost).attr("d",It(Cu(P.hist,A.trace_length))),V.select("."+T.trajectory_ghost).attr("d",It(P.hist))},rM=Bu;function iM(t,n){tM(),rM()}function Hu(t,n){Q2(),eM(t,n)}function Uu(t,n){nM(),Bu()}var Yu={};const aM=(t,n)=>{Et.value()==1?Yu=vf(()=>iM(),S.simulation.delay):Yu.stop()},oM=(t,n,e)=>{cr.update(()=>J2(n)),Et.update(()=>aM()),lr.update(()=>Hu(t,e)),A.angle_1.widget.update(()=>Uu()),A.angle_2.widget.update(()=>Uu()),A.ghost.widget.update(()=>{t.select("#ghost").transition(1e3).style("opacity",A.ghost.widget.value()?.2:0)}),A.show_trace.widget.update(()=>{t.selectAll("."+T.trace).transition().style("opacity",A.show_trace.widget.value()?null:0),t.selectAll("."+T.trace_ghost).transition().style("opacity",A.show_trace.widget.value()?null:0)}),A.show_entire_trajectory.widget.update(()=>{t.selectAll("."+T.trajectory).transition().style("opacity",A.show_entire_trajectory.widget.value()?null:0),t.selectAll("."+T.trajectory_ghost).transition().style("opacity",A.show_entire_trajectory.widget.value()?null:0)}),A.hide_pendulum.widget.update(()=>{t.selectAll("."+T.leg).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null),t.selectAll("."+T.leg_inset).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null),t.selectAll("."+T.joint).transition(1e3).style("opacity",A.hide_pendulum.widget.value()?0:null)})},Gu={name:"@explorables/double_trouble",title:"Double Trouble",subtitle:"The double pendulum",description:"An example of chaotic dynamics in a simple mechanical system",author:"Dirk Brockmann (https://synosy.github.io)"};function Vu(t,n=Jt){const e=$1(t,n),r=e.display,i=e.controls,a=e.grid;return W2(i,a),oM(r,i,n),Hu(r,n),{halt(){Et.value()===1&&Et.press(i)},reset(){Et.value()===1&&Et.press(i),cr.press(i),lr.press(i)},config:n,meta:Gu}}k.config=Jt,k.default=Vu,k.load=Vu,k.meta=Gu,Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
